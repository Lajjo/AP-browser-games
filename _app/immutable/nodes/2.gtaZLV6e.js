var Ft=Object.defineProperty;var Kt=(t,e,l)=>e in t?Ft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Ae=(t,e,l)=>(Kt(t,typeof e!="symbol"?e+"":e,l),l);import{A as m,s as Ee,f as g,a as E,l as R,g as h,h as I,y as Ye,c as w,d as p,m as $,j as d,i as L,B as u,C as ne,D as ge,z as M,E as Tt,F as D,G as lt,H as bt,I as Yt,e as ke,n as Y,J as be,K as Ze,L as vt,M as ft,o as zt}from"../chunks/scheduler.mtHg4T54.js";import{S as we,i as Ie,a as B,g as Lt,c as jt,t as Z,b as Oe,d as ye,m as Te,e as Le,f as dt}from"../chunks/index.BGyq8-xz.js";import{r as Ue,w as S,d as he}from"../chunks/index.C-tAR6_v.js";import{b as ve}from"../chunks/paths.D4dZybCs.js";function le(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const Vt=Ue({major:0,minor:5,build:0,class:"Version"});Ue({0:"Disabled",1:"Enabled",2:"Goal",6:"Auto",7:"Enabled + Auto"});const kt=S(null),mt=S(null),Rt=S(null),$t=S([]),Dt=S({}),qt=S({}),Qt=S({}),Xt=Ue(38281),Se=S(null),at=S(!1),rt=S(null),ot=S([]),Zt=Ue(10),Xe=S(!1),ct=S(0),ze=S(null),Ve=S(null),Re=S([]),$e=S([]),xt=Ue({CLIENT_UNKNOWN:0,CLIENT_READY:10,CLIENT_PLAYING:20,CLIENT_GOAL:30}),K=S([]);let Mt=[],Qe=0,it=10,b=null;Re.subscribe(t=>t);$e.subscribe(t=>t);mt.subscribe(t=>t);Rt.subscribe(t=>t);$t.subscribe(t=>Mt=t);ct.subscribe(t=>Qe=t);Se.subscribe(t=>b=t);K.subscribe(t=>t);ot.subscribe(t=>t);Zt.subscribe(t=>it=t);const De=S(5),qe=S(5),Me=S(5);let ae=S(5),re=S(5),We=S(5),Ge=S(0),je=S(!1),x=S([]),Gt=he([Re],([t])=>t.length),Ut=he([$e],([t])=>t.length);const Wt=he([Gt,Ut,We,re,ae],([t,e,l,n,r])=>Math.max(Math.min(l+r+n-10-t,e),0)),gt=he([x],([t])=>t.flatMap(e=>e)),es=he([gt],([t])=>t.filter(e=>e.flagged).length),ts=he([re,ae,gt],([t,e,l])=>t*e-l.filter(n=>n.clicked).length),Ht=he([Ge,ts,gt],([t,e,l])=>t===e&&!l.some(n=>n.clicked&&n.isBomb)),Jt=async(t,e,l)=>{if((b==null?void 0:b.readyState)===WebSocket.OPEN&&(b.close(),Se.set(null)),!t||!e)return;at.set(!1);let n=t;n.search(/^\/connect /)>-1&&(n=n.substring(9)),n.search(/:\d+$/)===-1&&(n=`${n}:${m(Xt)}`);const r=/^ws:\/\//.test(n)?"ws":"wss";n=n.replace(/^.*\/\//,""),rt.set(l??null),ot.set([]),Se.set(new WebSocket(`${r}://${n}`)),b&&(b.onopen=()=>{},b.onmessage=s=>{const o=JSON.parse(s.data);for(const a of o){const c=document.getElementById("server-status");switch(a.cmd){case"RoomInfo":!localStorage.getItem("dataPackageVersion")||!localStorage.getItem("dataPackage")||a.datapackage_version!==localStorage.getItem("dataPackageVersion")?ns():St(JSON.parse(localStorage.getItem("dataPackage")||"")),kt.set(e),b==null||b.send(JSON.stringify([{cmd:"Connect",game:"ChecksFinder",name:m(kt),uuid:ss(),tags:["AP","BK_Sudoku"],password:m(rt),version:m(Vt),items_handling:7,slot_data:!0}]));break;case"Connected":ct.set(0),Re.set(a.checked_locations),$e.set(a.missing_locations),ot.set([]),De.set(5),Me.set(5),qe.set(5),c==null||c.classList.remove("red"),c&&(c.innerText="Connected"),c==null||c.classList.add("green"),$t.set(a.players),Rt.set(a.team),mt.set(a.slot);break;case"ConnectionRefused":c==null||c.classList.remove("connected"),c&&(c.innerText="Not Connected"),c==null||c.classList.add("disconnected"),b&&b.readyState===WebSocket.OPEN&&(a.errors.includes("InvalidPassword")?K.update(i=>[...i,rt===null?"This server requires a password. Please use /connect [server] [password] to connect.":"Your provided password is incorrect. Please try again."]):K.update(i=>[...i,`Error while connecting to AP server: ${a.errors.join(", ")}.`]),at.set(!0),b==null||b.close());break;case"ReceivedItems":a.items.forEach(i=>{switch(i.item){case 8e4:qe.update(f=>f+1);break;case 80001:Me.update(f=>f+1);break;case 80002:De.update(f=>f+1);break}});break;case"RoomUpdate":break;case"Print":K.update(i=>[...i,a.text]);break;case"PrintJSON":switch(a.type){case"ItemSend":K.update(i=>[...i,os(a.data)]);break;default:K.update(i=>[...i,...a.data]);break}break;case"DataPackage":a.data.version!==0&&(localStorage.setItem("dataPackageVersion",a.data.version),localStorage.setItem("dataPackage",JSON.stringify(a.data))),St(a.data);break}}},b.onclose=()=>{const s=m(Ve);Xe||!s||(ze&&(window.clearTimeout(m(ze)??0),ze.set(null)),ze.set(window.setTimeout(()=>{if((b==null?void 0:b.readyState)!==WebSocket.OPEN&&!m(at)&&!m(Xe)){if(ct.set(Qe+1),Qe>it){K.update(o=>[...o,"Archipelago server connection lost. The connection closed unexpectedly. Please try to reconnect, or restart the client."]);return}K.update(o=>[...o,`Connection to AP server lost. Attempting to reconnect (${Qe} of ${it})`]),Jt(t)}},5e3)))},b.onerror=()=>{(b==null?void 0:b.readyState)===WebSocket.OPEN&&(K.update(s=>[...s,"Archipelago server connection lost. The connection closed unexpectedly. Please try to reconnect, or restart the client."]),b.close())})},ss=()=>{let t=localStorage.getItem("clientId");return t||(t=(Math.random()*1e16).toString(),localStorage.setItem("clientId",t)),t},ns=()=>{!b||b.readyState!==WebSocket.OPEN||b.send(JSON.stringify([{cmd:"GetDataPackage"}]))},ls=t=>{(b==null?void 0:b.readyState)===WebSocket.OPEN&&b.send(JSON.stringify([{cmd:"Say",text:t}]))},as=t=>{let e=m(Re);e.push(t),Re.set(e);let l=m($e);l.shift(),$e.set(l),b==null||b.send(JSON.stringify([{cmd:"LocationChecks",locations:[t]}]))},rs=()=>{b==null||b.send(JSON.stringify([{cmd:"StatusUpdate",status:m(xt).CLIENT_GOAL}]))},St=t=>{let e={},l={};Object.values(t.games).forEach(n=>{Object.keys(n.item_name_to_id).forEach(r=>{e[n.item_name_to_id[r]]=r}),Object.keys(n.location_name_to_id).forEach(r=>{l[n.location_name_to_id[r]]=r})}),Dt.set(e),qt.set(l),Qt.set(t.games.ChecksFinder.location_name_to_id)};function os(t){const e=m(Dt),l=m(qt);return t.map(n=>{switch(n.type){case"player_id":const r=Mt.find(s=>s.slot===parseInt(n.text));return(r==null?void 0:r.alias)??(r==null?void 0:r.name)??"";case"item_id":return e[+n.text];case"location_id":return l[+n.text];default:return n.text}}).join("")}function cs(t){let e,l,n="Digging Game",r,s,o,a,c="Server address:",i,f,v,_,k,z="Player name:",W,A,oe,q,O,Pe="Password:",ce,P,ee,G,ie=Se?"Connect":"Disconnect",ue,fe,H;return{c(){e=g("section"),l=g("h1"),l.textContent=n,r=E(),s=g("form"),o=g("div"),a=g("label"),a.textContent=c,i=E(),f=g("input"),v=E(),_=g("div"),k=g("label"),k.textContent=z,W=E(),A=g("input"),oe=E(),q=g("div"),O=g("label"),O.textContent=Pe,ce=E(),P=g("input"),ee=E(),G=g("button"),ue=R(ie),this.h()},l(T){e=h(T,"SECTION",{class:!0});var j=I(e);l=h(j,"H1",{class:!0,"data-svelte-h":!0}),Ye(l)!=="svelte-584zkb"&&(l.textContent=n),r=w(j),s=h(j,"FORM",{class:!0});var C=I(s);o=h(C,"DIV",{class:!0});var V=I(o);a=h(V,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ye(a)!=="svelte-1x6qc9h"&&(a.textContent=c),i=w(V),f=h(V,"INPUT",{name:!0,id:!0,class:!0}),V.forEach(p),v=w(C),_=h(C,"DIV",{class:!0});var te=I(_);k=h(te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ye(k)!=="svelte-7ul9v9"&&(k.textContent=z),W=w(te),A=h(te,"INPUT",{name:!0,id:!0,class:!0}),te.forEach(p),oe=w(C),q=h(C,"DIV",{class:!0});var Q=I(q);O=h(Q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ye(O)!=="svelte-bhu94"&&(O.textContent=Pe),ce=w(Q),P=h(Q,"INPUT",{name:!0,id:!0,class:!0}),Q.forEach(p),ee=w(C),G=h(C,"BUTTON",{class:!0});var _e=I(G);ue=$(_e,ie),_e.forEach(p),C.forEach(p),j.forEach(p),this.h()},h(){d(l,"class","svelte-grff0s"),d(a,"for","address"),d(a,"class","svelte-grff0s"),d(f,"name","address"),d(f,"id","server-address"),d(f,"class","svelte-grff0s"),d(o,"class","svelte-grff0s"),d(k,"for","player"),d(k,"class","svelte-grff0s"),d(A,"name","player"),d(A,"id","player"),d(A,"class","svelte-grff0s"),d(_,"class","svelte-grff0s"),d(O,"for","password"),d(O,"class","svelte-grff0s"),d(P,"name","password"),d(P,"id","password"),d(P,"class","svelte-grff0s"),d(q,"class","svelte-grff0s"),d(G,"class","svelte-grff0s"),d(s,"class","svelte-grff0s"),d(e,"class","svelte-grff0s")},m(T,j){L(T,e,j),u(e,l),u(e,r),u(e,s),u(s,o),u(o,a),u(o,i),u(o,f),ne(f,t[0]),u(s,v),u(s,_),u(_,k),u(_,W),u(_,A),ne(A,t[1]),u(s,oe),u(s,q),u(q,O),u(q,ce),u(q,P),ne(P,t[2]),u(s,ee),u(s,G),u(G,ue),fe||(H=[ge(f,"input",t[4]),ge(A,"input",t[5]),ge(P,"input",t[6]),ge(G,"click",t[3])],fe=!0)},p(T,[j]){j&1&&f.value!==T[0]&&ne(f,T[0]),j&2&&A.value!==T[1]&&ne(A,T[1]),j&4&&P.value!==T[2]&&ne(P,T[2])},i:M,o:M,d(T){T&&p(e),fe=!1,Tt(H)}}}function is(t,e,l){let n,r,s;D(t,Se,k=>l(7,n=k)),D(t,Ve,k=>l(8,r=k)),D(t,Xe,k=>l(9,s=k));let o=m(Ve),a=m(mt),c="";async function i(k){if(!o){lt(Xe,s=!0,s),lt(Ve,r=null,r),n&&n.readyState===WebSocket.OPEN&&(n.close(),lt(Se,n=null,n));return}await Jt(o,a,c)}function f(){o=this.value,l(0,o)}function v(){a=this.value,l(1,a)}function _(){c=this.value,l(2,c)}return[o,a,c,i,f,v,_]}class us extends we{constructor(e){super(),Ie(this,e,is,cs,Ee,{})}}class fs{constructor(){Ae(this,"isBomb",!1);Ae(this,"adjacentBombs",0);Ae(this,"clicked",!1);Ae(this,"flagged",!1)}}function ds(t){if(t){m(We),m(ae),m(re);const e=m(Gt);m(Ut),m(Wt)?as(81e3+e):m(Ht)&&rs()}}function se(t,e){const l=m(x);0<=t&&t<m(re)&&0<=e&&e<m(ae)&&l[e][t].isBomb!==!0&&(l[e][t].adjacentBombs+=1)}function ms(t,e,l){l===0&&X(t,e,!1),l===2&&gs(t,e),x.update(n=>n)}function gs(t,e){const l=m(x);if(0<=t&&t<m(re)&&0<=e&&e<m(ae)&&!l[e][t].clicked){let n=l[e][t];n.flagged=!n.flagged,l[e][t]=n}}async function X(t,e,l=!0){const n=m(x);if(0<=t&&t<m(re)&&0<=e&&e<m(ae)&&!n[e][t].clicked&&!n[e][t].flagged){let r=n[e][t];r.clicked=!0,m(Ge)===0&&(je.set(!0),_s({x:t,y:e})),!r.isBomb&&r.adjacentBombs==0&&(X(t-1,e-1),X(t,e-1),X(t+1,e-1),X(t-1,e),X(t+1,e),X(t-1,e+1),X(t,e+1),X(t+1,e+1)),r.isBomb&&(Et(),setTimeout(()=>{je.set(!1),ut()},2500)),n[e][t]=r}m(Ht)&&(Et(),ds(!0),setTimeout(()=>{je.set(!1),ut()},2500))}function Et(){const t=m(x);t.forEach((e,l)=>{e.forEach((n,r)=>{n.clicked=!0,t[l][r]=n})})}function ut(){if(!m(je)){Ge.set(0);const t=m(De),e=m(qe),l=m(Me);We.set(t),re.set(e),ae.set(l),x.set(Array.from({length:l},()=>Array.from({length:e},()=>new fs)))}}function hs(t,e,l){return t.x>=e-1&&t.x<=e+1&&t.y>=l-1&&t.y<=l+1}function _s(t){const e=m(De),l=m(qe),n=m(Me),r=m(x);for(;m(Ge)<m(We);){const s=Math.round(Math.random()*l*e)%l,o=Math.round(Math.random()*n*e)%n;if(hs(t,s,o))continue;const a=r[o][s];a.isBomb!==!0&&(se(s-1,o-1),se(s,o-1),se(s+1,o-1),se(s-1,o),a.isBomb=!0,se(s+1,o),se(s-1,o+1),se(s,o+1),se(s+1,o+1),Ge.update(c=>c+1))}}function wt(t){let e;function l(s,o){if(s[2]===!0)return bs;if(s[3]>0)return ps}let n=l(t),r=n&&n(t);return{c(){r&&r.c(),e=ke()},l(s){r&&r.l(s),e=ke()},m(s,o){r&&r.m(s,o),L(s,e,o)},p(s,o){n===(n=l(s))&&r?r.p(s,o):(r&&r.d(1),r=n&&n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){s&&p(e),r&&r.d(s)}}}function ps(t){let e;return{c(){e=R(t[3])},l(l){e=$(l,t[3])},m(l,n){L(l,e,n)},p(l,n){n&8&&Y(e,l[3])},d(l){l&&p(e)}}}function bs(t){let e,l;return{c(){e=g("img"),this.h()},l(n){e=h(n,"IMG",{alt:!0,src:!0}),this.h()},h(){d(e,"alt","bomb"),be(e.src,l=ve+"/bomb-large.png")||d(e,"src",l)},m(n,r){L(n,e,r)},p:M,d(n){n&&p(e)}}}function vs(t){let e,l,n,r,s=t[0]&&wt(t);return{c(){e=g("td"),s&&s.c(),this.h()},l(o){e=h(o,"TD",{class:!0});var a=I(e);s&&s.l(a),a.forEach(p),this.h()},h(){d(e,"class",l=bt(t[0]?"dug":t[1]?"flag":"")+" svelte-10n1hly")},m(o,a){L(o,e,a),s&&s.m(e,null),n||(r=ge(e,"mousedown",t[5]),n=!0)},p(o,[a]){o[0]?s?s.p(o,a):(s=wt(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),a&3&&l!==(l=bt(o[0]?"dug":o[1]?"flag":"")+" svelte-10n1hly")&&d(e,"class",l)},i:M,o:M,d(o){o&&p(e),s&&s.d(),n=!1,r()}}}function ks(t,e,l){const n=Yt();let{clicked:r=!1}=e,{flagged:s=!1}=e,{isBomb:o=!1}=e,{adjacentBombs:a=0}=e;function c(f){n("tile-clicked",f.button)}const i=f=>c(f);return t.$$set=f=>{"clicked"in f&&l(0,r=f.clicked),"flagged"in f&&l(1,s=f.flagged),"isBomb"in f&&l(2,o=f.isBomb),"adjacentBombs"in f&&l(3,a=f.adjacentBombs)},[r,s,o,a,c,i]}class Ss extends we{constructor(e){super(),Ie(this,e,ks,vs,Ee,{clicked:0,flagged:1,isBomb:2,adjacentBombs:3})}}function It(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function Pt(t,e,l){const n=t.slice();return n[5]=e[l],n[7]=l,n}function Nt(t){let e,l;function n(...r){return t[1](t[7],t[4],...r)}return e=new Ss({props:{clicked:t[0][t[4]][t[7]].clicked,flagged:t[0][t[4]][t[7]].flagged,isBomb:t[0][t[4]][t[7]].isBomb,adjacentBombs:t[0][t[4]][t[7]].adjacentBombs}}),e.$on("tile-clicked",n),{c(){Oe(e.$$.fragment)},l(r){ye(e.$$.fragment,r)},m(r,s){Te(e,r,s),l=!0},p(r,s){t=r;const o={};s&1&&(o.clicked=t[0][t[4]][t[7]].clicked),s&1&&(o.flagged=t[0][t[4]][t[7]].flagged),s&1&&(o.isBomb=t[0][t[4]][t[7]].isBomb),s&1&&(o.adjacentBombs=t[0][t[4]][t[7]].adjacentBombs),e.$set(o)},i(r){l||(B(e.$$.fragment,r),l=!0)},o(r){Z(e.$$.fragment,r),l=!1},d(r){Le(e,r)}}}function Bt(t){let e,l,n,r=le(t[2]),s=[];for(let a=0;a<r.length;a+=1)s[a]=Nt(Pt(t,r,a));const o=a=>Z(s[a],1,1,()=>{s[a]=null});return{c(){e=g("tr");for(let a=0;a<s.length;a+=1)s[a].c();l=E(),this.h()},l(a){e=h(a,"TR",{class:!0});var c=I(e);for(let i=0;i<s.length;i+=1)s[i].l(c);l=w(c),c.forEach(p),this.h()},h(){d(e,"class","rows svelte-4jsriw")},m(a,c){L(a,e,c);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null);u(e,l),n=!0},p(a,c){if(c&1){r=le(a[2]);let i;for(i=0;i<r.length;i+=1){const f=Pt(a,r,i);s[i]?(s[i].p(f,c),B(s[i],1)):(s[i]=Nt(f),s[i].c(),B(s[i],1),s[i].m(e,l))}for(Lt(),i=r.length;i<s.length;i+=1)o(i);jt()}},i(a){if(!n){for(let c=0;c<r.length;c+=1)B(s[c]);n=!0}},o(a){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)Z(s[c]);n=!1},d(a){a&&p(e),Ze(s,a)}}}function Es(t){let e,l,n,r=le(t[0]),s=[];for(let a=0;a<r.length;a+=1)s[a]=Bt(It(t,r,a));const o=a=>Z(s[a],1,1,()=>{s[a]=null});return{c(){e=g("table"),l=g("tbody");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=h(a,"TABLE",{class:!0});var c=I(e);l=h(c,"TBODY",{class:!0});var i=I(l);for(let f=0;f<s.length;f+=1)s[f].l(i);i.forEach(p),c.forEach(p),this.h()},h(){d(l,"class","grid svelte-4jsriw"),d(e,"class","svelte-4jsriw")},m(a,c){L(a,e,c),u(e,l);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(l,null);n=!0},p(a,[c]){if(c&1){r=le(a[0]);let i;for(i=0;i<r.length;i+=1){const f=It(a,r,i);s[i]?(s[i].p(f,c),B(s[i],1)):(s[i]=Bt(f),s[i].c(),B(s[i],1),s[i].m(l,null))}for(Lt(),i=r.length;i<s.length;i+=1)o(i);jt()}},i(a){if(!n){for(let c=0;c<r.length;c+=1)B(s[c]);n=!0}},o(a){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)Z(s[c]);n=!1},d(a){a&&p(e),Ze(s,a)}}}function ws(t,e,l){let n;return D(t,x,s=>l(0,n=s)),[n,(s,o,a)=>ms(s,o,a.detail)]}class Is extends we{constructor(e){super(),Ie(this,e,ws,Es,Ee,{})}}function Ps(t){let e,l,n,r,s,o,a,c,i,f,v,_,k,z,W,A,oe,q,O,Pe,ce,P,ee,G,ie,ue,fe,H,T,j,C,V,te,Q,_e,xe,de,_t,et,J,He,tt,Je,st,Fe,nt,me,F;return me=new Is({}),{c(){e=g("section"),l=g("div"),n=g("div"),r=g("img"),o=E(),a=g("span"),c=R(t[0]),i=E(),f=g("img"),_=E(),k=g("span"),z=R(t[1]),W=E(),A=g("hr"),oe=R(`
				20`),q=E(),O=g("img"),ce=E(),P=g("span"),ee=R(t[2]),G=E(),ie=g("hr"),ue=R(`
				10`),fe=E(),H=g("img"),j=E(),C=g("span"),V=R(t[3]),te=E(),Q=g("hr"),_e=R(`
				10`),xe=E(),de=g("img"),et=E(),J=g("span"),He=R(t[4]),tt=E(),Je=g("hr"),st=E(),Fe=R(t[1]),nt=E(),Oe(me.$$.fragment),this.h()},l(y){e=h(y,"SECTION",{class:!0});var U=I(e);l=h(U,"DIV",{class:!0});var Ke=I(l);n=h(Ke,"DIV",{class:!0});var N=I(n);r=h(N,"IMG",{alt:!0,src:!0,class:!0}),o=w(N),a=h(N,"SPAN",{class:!0});var pt=I(a);c=$(pt,t[0]),pt.forEach(p),i=w(N),f=h(N,"IMG",{alt:!0,src:!0,class:!0}),_=w(N),k=h(N,"SPAN",{class:!0});var Ne=I(k);z=$(Ne,t[1]),W=w(Ne),A=h(Ne,"HR",{class:!0}),oe=$(Ne,`
				20`),Ne.forEach(p),q=w(N),O=h(N,"IMG",{alt:!0,src:!0,class:!0}),ce=w(N),P=h(N,"SPAN",{class:!0});var Be=I(P);ee=$(Be,t[2]),G=w(Be),ie=h(Be,"HR",{class:!0}),ue=$(Be,`
				10`),Be.forEach(p),fe=w(N),H=h(N,"IMG",{alt:!0,src:!0,class:!0}),j=w(N),C=h(N,"SPAN",{class:!0});var Ce=I(C);V=$(Ce,t[3]),te=w(Ce),Q=h(Ce,"HR",{class:!0}),_e=$(Ce,`
				10`),Ce.forEach(p),xe=w(N),de=h(N,"IMG",{alt:!0,src:!0,class:!0}),et=w(N),J=h(N,"SPAN",{class:!0});var pe=I(J);He=$(pe,t[4]),tt=w(pe),Je=h(pe,"HR",{class:!0}),st=w(pe),Fe=$(pe,t[1]),pe.forEach(p),N.forEach(p),nt=w(Ke),ye(me.$$.fragment,Ke),Ke.forEach(p),U.forEach(p),this.h()},h(){d(r,"alt","available checks"),be(r.src,s=ve+"/ap-icon-large.png")||d(r,"src",s),d(r,"class","svelte-9b9k3q"),d(a,"class","svelte-9b9k3q"),d(f,"alt","placed bombs"),be(f.src,v=ve+"/bomb-large.png")||d(f,"src",v),d(f,"class","svelte-9b9k3q"),d(A,"class","svelte-9b9k3q"),d(k,"class","svelte-9b9k3q"),d(O,"alt","map height"),be(O.src,Pe=ve+"/up-down-arrow-big.png")||d(O,"src",Pe),d(O,"class","svelte-9b9k3q"),d(ie,"class","svelte-9b9k3q"),d(P,"class","svelte-9b9k3q"),d(H,"alt","map width"),be(H.src,T=ve+"/left-right-arrow-big.png")||d(H,"src",T),d(H,"class","svelte-9b9k3q"),d(Q,"class","svelte-9b9k3q"),d(C,"class","svelte-9b9k3q"),d(de,"alt","flagged spots"),be(de.src,_t=ve+"/heavy-rock-big.png")||d(de,"src",_t),d(de,"class","svelte-9b9k3q"),d(Je,"class","svelte-9b9k3q"),d(J,"class","svelte-9b9k3q"),d(n,"class","game-status svelte-9b9k3q"),d(l,"class","island svelte-9b9k3q"),d(e,"class","svelte-9b9k3q")},m(y,U){L(y,e,U),u(e,l),u(l,n),u(n,r),u(n,o),u(n,a),u(a,c),u(n,i),u(n,f),u(n,_),u(n,k),u(k,z),u(k,W),u(k,A),u(k,oe),u(n,q),u(n,O),u(n,ce),u(n,P),u(P,ee),u(P,G),u(P,ie),u(P,ue),u(n,fe),u(n,H),u(n,j),u(n,C),u(C,V),u(C,te),u(C,Q),u(C,_e),u(n,xe),u(n,de),u(n,et),u(n,J),u(J,He),u(J,tt),u(J,Je),u(J,st),u(J,Fe),u(l,nt),Te(me,l,null),F=!0},p(y,[U]){(!F||U&1)&&Y(c,y[0]),(!F||U&2)&&Y(z,y[1]),(!F||U&4)&&Y(ee,y[2]),(!F||U&8)&&Y(V,y[3]),(!F||U&16)&&Y(He,y[4]),(!F||U&2)&&Y(Fe,y[1])},i(y){F||(B(me.$$.fragment,y),F=!0)},o(y){Z(me.$$.fragment,y),F=!1},d(y){y&&p(e),Le(me)}}}function Ns(t,e,l){let n,r,s,o,a,c,i,f,v;return D(t,je,_=>l(5,n=_)),D(t,Me,_=>l(6,r=_)),D(t,qe,_=>l(7,s=_)),D(t,De,_=>l(8,o=_)),D(t,Wt,_=>l(0,a=_)),D(t,We,_=>l(1,c=_)),D(t,ae,_=>l(2,i=_)),D(t,re,_=>l(3,f=_)),D(t,es,_=>l(4,v=_)),t.$$.update=()=>{t.$$.dirty&480&&ut()},[a,c,i,f,v,n,r,s,o]}class Bs extends we{constructor(e){super(),Ie(this,e,Ns,Ps,Ee,{})}}function Cs(t){const e=t-1;return e*e*e+1}function ht(t,{delay:e=0,duration:l=400,easing:n=Cs,x:r=0,y:s=0,opacity:o=0}={}){const a=getComputedStyle(t),c=+a.opacity,i=a.transform==="none"?"":a.transform,f=c*(1-o),[v,_]=vt(r),[k,z]=vt(s);return{delay:e,duration:l,easing:n,css:(W,A)=>`
			transform: ${i} translate(${(1-W)*v}${_}, ${(1-W)*k}${z});
			opacity: ${c-f*A}`}}function Ct(t,e,l){const n=t.slice();return n[4]=e[l],n}function At(t,e,l){const n=t.slice();return n[7]=e[l].text,n[8]=e[l].type,n}function As(t){let e,l=t[4]+"",n,r;return{c(){e=g("p"),n=R(l)},l(s){e=h(s,"P",{});var o=I(e);n=$(o,l),o.forEach(p)},m(s,o){L(s,e,o),u(e,n)},p(s,o){o&2&&l!==(l=s[4]+"")&&Y(n,l)},i(s){r||ft(()=>{r=dt(e,ht,{y:1200,duration:1e3}),r.start()})},o:M,d(s){s&&p(e)}}}function Os(t){let e,l=t[4].text+"",n,r;return{c(){e=g("p"),n=R(l)},l(s){e=h(s,"P",{});var o=I(e);n=$(o,l),o.forEach(p)},m(s,o){L(s,e,o),u(e,n)},p(s,o){o&2&&l!==(l=s[4].text+"")&&Y(n,l)},i(s){r||ft(()=>{r=dt(e,ht,{y:1200,duration:1e3}),r.start()})},o:M,d(s){s&&p(e)}}}function ys(t){var r;let e,l=le(((r=t[4])==null?void 0:r.messageParts)&&t[4].messageParts),n=[];for(let s=0;s<l.length;s+=1)n[s]=Ot(At(t,l,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ke()},l(s){for(let o=0;o<n.length;o+=1)n[o].l(s);e=ke()},m(s,o){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(s,o);L(s,e,o)},p(s,o){var a;if(o&2){l=le(((a=s[4])==null?void 0:a.messageParts)&&s[4].messageParts);let c;for(c=0;c<l.length;c+=1){const i=At(s,l,c);n[c]?(n[c].p(i,o),B(n[c],1)):(n[c]=Ot(i),n[c].c(),B(n[c],1),n[c].m(e.parentNode,e))}for(;c<n.length;c+=1)n[c].d(1);n.length=l.length}},i(s){for(let o=0;o<l.length;o+=1)B(n[o])},o:M,d(s){s&&p(e),Ze(n,s)}}}function Ot(t){let e,l=t[7]+"",n,r;return{c(){e=g("p"),n=R(l)},l(s){e=h(s,"P",{});var o=I(e);n=$(o,l),o.forEach(p)},m(s,o){L(s,e,o),u(e,n)},p(s,o){o&2&&l!==(l=s[7]+"")&&Y(n,l)},i(s){r||ft(()=>{r=dt(e,ht,{y:1200,duration:1e3}),r.start()})},o:M,d(s){s&&p(e)}}}function yt(t){let e,l,n;function r(a,c){return c&2&&(e=null),c&2&&(l=null),e==null&&(e=!!Object.hasOwn(a[4],"messageParts")),e?ys:(l==null&&(l=!!Object.hasOwn(a[4],"text")),l?Os:As)}let s=r(t,-1),o=s(t);return{c(){o.c(),n=ke()},l(a){o.l(a),n=ke()},m(a,c){o.m(a,c),L(a,n,c)},p(a,c){s===(s=r(a,c))&&o?o.p(a,c):(o.d(1),o=s(a),o&&(o.c(),B(o,1),o.m(n.parentNode,n)))},i(a){B(o)},o:M,d(a){a&&p(n),o.d(a)}}}function Ts(t){let e,l,n,r,s,o,a=le(t[1]),c=[];for(let i=0;i<a.length;i+=1)c[i]=yt(Ct(t,a,i));return{c(){e=g("section"),l=g("span");for(let i=0;i<c.length;i+=1)c[i].c();n=E(),r=g("input"),this.h()},l(i){e=h(i,"SECTION",{class:!0});var f=I(e);l=h(f,"SPAN",{id:!0,class:!0});var v=I(l);for(let _=0;_<c.length;_+=1)c[_].l(v);v.forEach(p),n=w(f),r=h(f,"INPUT",{class:!0,type:!0}),f.forEach(p),this.h()},h(){d(l,"id","console"),d(l,"class","svelte-1miskre"),d(r,"class","console-input svelte-1miskre"),d(r,"type","text"),d(e,"class","svelte-1miskre")},m(i,f){L(i,e,f),u(e,l);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(l,null);u(e,n),u(e,r),ne(r,t[0]),s||(o=[ge(r,"input",t[3]),ge(r,"keydown",t[2])],s=!0)},p(i,[f]){if(f&2){a=le(i[1]);let v;for(v=0;v<a.length;v+=1){const _=Ct(i,a,v);c[v]?(c[v].p(_,f),B(c[v],1)):(c[v]=yt(_),c[v].c(),B(c[v],1),c[v].m(l,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=a.length}f&1&&r.value!==i[0]&&ne(r,i[0])},i(i){for(let f=0;f<a.length;f+=1)B(c[f])},o:M,d(i){i&&p(e),Ze(c,i),s=!1,Tt(o)}}}function Ls(t,e,l){let n;D(t,K,a=>l(1,n=a));let r="";function s(a){a.key==="Enter"&&ls(r)}function o(){r=this.value,l(0,r)}return[r,n,s,o]}class js extends we{constructor(e){super(),Ie(this,e,Ls,Ts,Ee,{})}}function Rs(t){let e,l,n,r,s,o,a;return l=new us({}),r=new Bs({}),o=new js({}),{c(){e=g("main"),Oe(l.$$.fragment),n=E(),Oe(r.$$.fragment),s=E(),Oe(o.$$.fragment),this.h()},l(c){e=h(c,"MAIN",{class:!0});var i=I(e);ye(l.$$.fragment,i),n=w(i),ye(r.$$.fragment,i),s=w(i),ye(o.$$.fragment,i),i.forEach(p),this.h()},h(){d(e,"class","svelte-15j489c")},m(c,i){L(c,e,i),Te(l,e,null),u(e,n),Te(r,e,null),u(e,s),Te(o,e,null),a=!0},p:M,i(c){a||(B(l.$$.fragment,c),B(r.$$.fragment,c),B(o.$$.fragment,c),a=!0)},o(c){Z(l.$$.fragment,c),Z(r.$$.fragment,c),Z(o.$$.fragment,c),a=!1},d(c){c&&p(e),Le(l),Le(r),Le(o)}}}function $s(t){return zt(()=>{document.addEventListener("contextmenu",e=>e.preventDefault())}),[]}class Ws extends we{constructor(e){super(),Ie(this,e,$s,Rs,Ee,{})}}export{Ws as component};

var Ft=Object.defineProperty;var Kt=(t,e,l)=>e in t?Ft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var je=(t,e,l)=>(Kt(t,typeof e!="symbol"?e+"":e,l),l);import{A as m,s as Ee,f as g,a as E,l as R,g as h,h as I,y as Ye,c as w,d as p,m as $,j as d,i as T,B as u,C as ne,D as ge,z as G,E as yt,F as D,G as lt,H as bt,I as Yt,e as ke,n as Y,J as be,K as Ze,L as vt,M as ft,o as zt}from"../chunks/scheduler.mtHg4T54.js";import{S as we,i as Ie,a as B,g as Tt,c as Lt,t as Z,b as Ae,d as Oe,m as ye,e as Te,f as dt}from"../chunks/index.BGyq8-xz.js";import{r as We,w as S,d as he}from"../chunks/index.C-tAR6_v.js";import{b as ve}from"../chunks/paths.CAEJuCTI.js";function le(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const Vt=We({major:0,minor:5,build:0,class:"Version"});We({0:"Disabled",1:"Enabled",2:"Goal",6:"Auto",7:"Enabled + Auto"});const kt=S(null),mt=S(null),Rt=S(null),$t=S([]),Dt=S({}),Mt=S({}),Qt=S({}),Xt=We(38281),Se=S(null),at=S(!1),ot=S(null),rt=S([]),Zt=We(10),Xe=S(!1),ct=S(0),ze=S(null),Ve=S(null),Re=S([]),$e=S([]),xt=We({CLIENT_UNKNOWN:0,CLIENT_READY:10,CLIENT_PLAYING:20,CLIENT_GOAL:30}),K=S([]);let Gt=[],Qe=0,it=10,b=null;Re.subscribe(t=>t);$e.subscribe(t=>t);mt.subscribe(t=>t);Rt.subscribe(t=>t);$t.subscribe(t=>Gt=t);ct.subscribe(t=>Qe=t);Se.subscribe(t=>b=t);K.subscribe(t=>t);rt.subscribe(t=>t);Zt.subscribe(t=>it=t);const De=S(5),Me=S(5),Ge=S(5);let ae=S(5),oe=S(5),He=S(5),Ue=S(0),Le=S(!1),x=S([]),Ut=he([Re],([t])=>t.length),Wt=he([$e],([t])=>t.length);const Ht=he([Ut,Wt,He,oe,ae],([t,e,l,n,o])=>Math.max(Math.min(l+o+n-10-t,e),0)),gt=he([x],([t])=>t.flatMap(e=>e)),es=he([gt],([t])=>t.filter(e=>e.flagged).length),ts=he([oe,ae,gt],([t,e,l])=>t*e-l.filter(n=>n.clicked).length),Jt=he([Ue,ts,gt],([t,e,l])=>t===e&&!l.some(n=>n.clicked&&n.isBomb)),qt=async(t,e,l)=>{if((b==null?void 0:b.readyState)===WebSocket.OPEN&&(b.close(),Se.set(null)),!t||!e)return;at.set(!1);let n=t;n.search(/^\/connect /)>-1&&(n=n.substring(9)),n.search(/:\d+$/)===-1&&(n=`${n}:${m(Xt)}`);const o=/^ws:\/\//.test(n)?"ws":"wss";n=n.replace(/^.*\/\//,""),ot.set(l??null),rt.set([]),Se.set(new WebSocket(`${o}://${n}`)),b&&(b.onopen=()=>{},b.onmessage=s=>{const r=JSON.parse(s.data);for(const a of r){const c=document.getElementById("server-status");switch(a.cmd){case"RoomInfo":!localStorage.getItem("dataPackageVersion")||!localStorage.getItem("dataPackage")||a.datapackage_version!==localStorage.getItem("dataPackageVersion")?ns():St(JSON.parse(localStorage.getItem("dataPackage")||"")),kt.set(e),b==null||b.send(JSON.stringify([{cmd:"Connect",game:"ChecksFinder",name:m(kt),uuid:ss(),tags:["AP","BK_Sudoku"],password:m(ot),version:m(Vt),items_handling:7,slot_data:!0}]));break;case"Connected":ct.set(0),Re.set(a.checked_locations),$e.set(a.missing_locations),rt.set([]),De.set(5),Ge.set(5),Me.set(5),c==null||c.classList.remove("red"),c&&(c.innerText="Connected"),c==null||c.classList.add("green"),$t.set(a.players),Rt.set(a.team),mt.set(a.slot);break;case"ConnectionRefused":c==null||c.classList.remove("connected"),c&&(c.innerText="Not Connected"),c==null||c.classList.add("disconnected"),b&&b.readyState===WebSocket.OPEN&&(a.errors.includes("InvalidPassword")?K.update(i=>[...i,ot===null?"This server requires a password. Please use /connect [server] [password] to connect.":"Your provided password is incorrect. Please try again."]):K.update(i=>[...i,`Error while connecting to AP server: ${a.errors.join(", ")}.`]),at.set(!0),b==null||b.close());break;case"ReceivedItems":a.items.forEach(i=>{switch(i.item){case 8e4:Me.update(f=>f+1);break;case 80001:Ge.update(f=>f+1);break;case 80002:De.update(f=>f+1);break}});break;case"RoomUpdate":break;case"Print":K.update(i=>[...i,a.text]);break;case"PrintJSON":switch(a.type){case"ItemSend":K.update(i=>[...i,rs(a.data)]);break;default:K.update(i=>[...i,...a.data]);break}break;case"DataPackage":a.data.version!==0&&(localStorage.setItem("dataPackageVersion",a.data.version),localStorage.setItem("dataPackage",JSON.stringify(a.data))),St(a.data);break}}},b.onclose=()=>{const s=m(Ve);Xe||!s||(ze&&(window.clearTimeout(m(ze)??0),ze.set(null)),ze.set(window.setTimeout(()=>{if((b==null?void 0:b.readyState)!==WebSocket.OPEN&&!m(at)&&!m(Xe)){if(ct.set(Qe+1),Qe>it){K.update(r=>[...r,"Archipelago server connection lost. The connection closed unexpectedly. Please try to reconnect, or restart the client."]);return}K.update(r=>[...r,`Connection to AP server lost. Attempting to reconnect (${Qe} of ${it})`]),qt(t)}},5e3)))},b.onerror=()=>{(b==null?void 0:b.readyState)===WebSocket.OPEN&&(K.update(s=>[...s,"Archipelago server connection lost. The connection closed unexpectedly. Please try to reconnect, or restart the client."]),b.close())})},ss=()=>{let t=localStorage.getItem("clientId");return t||(t=(Math.random()*1e16).toString(),localStorage.setItem("clientId",t)),t},ns=()=>{!b||b.readyState!==WebSocket.OPEN||b.send(JSON.stringify([{cmd:"GetDataPackage"}]))},ls=t=>{(b==null?void 0:b.readyState)===WebSocket.OPEN&&b.send(JSON.stringify([{cmd:"Say",text:t}]))},as=t=>{let e=m(Re);e.push(t),Re.set(e);let l=m($e);l.shift(),$e.set(l),b==null||b.send(JSON.stringify([{cmd:"LocationChecks",locations:[t]}]))},os=()=>{b==null||b.send(JSON.stringify([{cmd:"StatusUpdate",status:m(xt).CLIENT_GOAL}]))},St=t=>{let e={},l={};Object.values(t.games).forEach(n=>{Object.keys(n.item_name_to_id).forEach(o=>{e[n.item_name_to_id[o]]=o}),Object.keys(n.location_name_to_id).forEach(o=>{l[n.location_name_to_id[o]]=o})}),Dt.set(e),Mt.set(l),Qt.set(t.games.ChecksFinder.location_name_to_id)};function rs(t){const e=m(Dt),l=m(Mt);return t.map(n=>{switch(n.type){case"player_id":const o=Gt.find(s=>s.slot===parseInt(n.text));return(o==null?void 0:o.alias)??(o==null?void 0:o.name)??"";case"item_id":return e[+n.text];case"location_id":return l[+n.text];default:return n.text}}).join("")}function cs(t){let e,l,n="Digging Game",o,s,r,a,c="Server address:",i,f,v,_,k,z="Player name:",H,j,re,M,A,Pe="Password:",ce,P,ee,U,ie=Se?"Connect":"Disconnect",ue,fe,J;return{c(){e=g("section"),l=g("h1"),l.textContent=n,o=E(),s=g("form"),r=g("div"),a=g("label"),a.textContent=c,i=E(),f=g("input"),v=E(),_=g("div"),k=g("label"),k.textContent=z,H=E(),j=g("input"),re=E(),M=g("div"),A=g("label"),A.textContent=Pe,ce=E(),P=g("input"),ee=E(),U=g("button"),ue=R(ie),this.h()},l(y){e=h(y,"SECTION",{class:!0});var L=I(e);l=h(L,"H1",{class:!0,"data-svelte-h":!0}),Ye(l)!=="svelte-584zkb"&&(l.textContent=n),o=w(L),s=h(L,"FORM",{class:!0});var C=I(s);r=h(C,"DIV",{class:!0});var V=I(r);a=h(V,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ye(a)!=="svelte-1x6qc9h"&&(a.textContent=c),i=w(V),f=h(V,"INPUT",{name:!0,id:!0,class:!0}),V.forEach(p),v=w(C),_=h(C,"DIV",{class:!0});var te=I(_);k=h(te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ye(k)!=="svelte-7ul9v9"&&(k.textContent=z),H=w(te),j=h(te,"INPUT",{name:!0,id:!0,class:!0}),te.forEach(p),re=w(C),M=h(C,"DIV",{class:!0});var Q=I(M);A=h(Q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ye(A)!=="svelte-bhu94"&&(A.textContent=Pe),ce=w(Q),P=h(Q,"INPUT",{name:!0,id:!0,class:!0}),Q.forEach(p),ee=w(C),U=h(C,"BUTTON",{class:!0});var _e=I(U);ue=$(_e,ie),_e.forEach(p),C.forEach(p),L.forEach(p),this.h()},h(){d(l,"class","svelte-grff0s"),d(a,"for","address"),d(a,"class","svelte-grff0s"),d(f,"name","address"),d(f,"id","server-address"),d(f,"class","svelte-grff0s"),d(r,"class","svelte-grff0s"),d(k,"for","player"),d(k,"class","svelte-grff0s"),d(j,"name","player"),d(j,"id","player"),d(j,"class","svelte-grff0s"),d(_,"class","svelte-grff0s"),d(A,"for","password"),d(A,"class","svelte-grff0s"),d(P,"name","password"),d(P,"id","password"),d(P,"class","svelte-grff0s"),d(M,"class","svelte-grff0s"),d(U,"class","svelte-grff0s"),d(s,"class","svelte-grff0s"),d(e,"class","svelte-grff0s")},m(y,L){T(y,e,L),u(e,l),u(e,o),u(e,s),u(s,r),u(r,a),u(r,i),u(r,f),ne(f,t[0]),u(s,v),u(s,_),u(_,k),u(_,H),u(_,j),ne(j,t[1]),u(s,re),u(s,M),u(M,A),u(M,ce),u(M,P),ne(P,t[2]),u(s,ee),u(s,U),u(U,ue),fe||(J=[ge(f,"input",t[4]),ge(j,"input",t[5]),ge(P,"input",t[6]),ge(U,"click",t[3])],fe=!0)},p(y,[L]){L&1&&f.value!==y[0]&&ne(f,y[0]),L&2&&j.value!==y[1]&&ne(j,y[1]),L&4&&P.value!==y[2]&&ne(P,y[2])},i:G,o:G,d(y){y&&p(e),fe=!1,yt(J)}}}function is(t,e,l){let n,o,s;D(t,Se,k=>l(7,n=k)),D(t,Ve,k=>l(8,o=k)),D(t,Xe,k=>l(9,s=k));let r=m(Ve),a=m(mt),c="";async function i(k){if(!r){lt(Xe,s=!0,s),lt(Ve,o=null,o),n&&n.readyState===WebSocket.OPEN&&(n.close(),lt(Se,n=null,n));return}await qt(r,a,c)}function f(){r=this.value,l(0,r)}function v(){a=this.value,l(1,a)}function _(){c=this.value,l(2,c)}return[r,a,c,i,f,v,_]}class us extends we{constructor(e){super(),Ie(this,e,is,cs,Ee,{})}}class fs{constructor(){je(this,"isBomb",!1);je(this,"adjacentBombs",0);je(this,"clicked",!1);je(this,"flagged",!1)}}function ds(t){if(t){m(He),m(ae),m(oe);const e=m(Ut);m(Wt),m(Ht)?as(81e3+e):m(Jt)&&os()}}function se(t,e){const l=m(x);0<=t&&t<m(oe)&&0<=e&&e<m(ae)&&l[e][t].isBomb!==!0&&(l[e][t].adjacentBombs+=1)}function ms(t,e,l){l===0&&X(t,e,!1),l===2&&gs(t,e),x.update(n=>n)}function gs(t,e){const l=m(x);if(0<=t&&t<m(oe)&&0<=e&&e<m(ae)&&!l[e][t].clicked){let n=l[e][t];n.flagged=!n.flagged,l[e][t]=n}}async function X(t,e,l=!0){const n=m(x);if(0<=t&&t<m(oe)&&0<=e&&e<m(ae)&&!n[e][t].clicked&&!n[e][t].flagged){let o=n[e][t];o.clicked=!0,m(Ue)===0&&(Le.set(!0),_s({x:t,y:e})),!o.isBomb&&o.adjacentBombs==0&&(X(t-1,e-1),X(t,e-1),X(t+1,e-1),X(t-1,e),X(t+1,e),X(t-1,e+1),X(t,e+1),X(t+1,e+1)),o.isBomb&&(Et(),setTimeout(()=>{Le.set(!1),ut()},2500)),n[e][t]=o}m(Jt)&&(Et(),ds(!0),setTimeout(()=>{Le.set(!1),ut()},2500))}function Et(){const t=m(x);t.forEach((e,l)=>{e.forEach((n,o)=>{n.clicked=!0,t[l][o]=n})})}function ut(){if(!m(Le)){Ue.set(0);const t=m(De),e=m(Me),l=m(Ge);He.set(t),oe.set(e),ae.set(l),x.set(Array.from({length:l},()=>Array.from({length:e},()=>new fs)))}}function hs(t,e,l){return t.x>=e-1&&t.x<=e+1&&t.y>=l-1&&t.y<=l+1}function _s(t){const e=m(De),l=m(Me),n=m(Ge),o=m(x);for(;m(Ue)<m(He);){const s=Math.round(Math.random()*l*e)%l,r=Math.round(Math.random()*n*e)%n;if(hs(t,s,r))continue;const a=o[r][s];a.isBomb!==!0&&(se(s-1,r-1),se(s,r-1),se(s+1,r-1),se(s-1,r),a.isBomb=!0,se(s+1,r),se(s-1,r+1),se(s,r+1),se(s+1,r+1),Ue.update(c=>c+1))}}function wt(t){let e;function l(s,r){if(s[2]===!0)return bs;if(s[3]>0)return ps}let n=l(t),o=n&&n(t);return{c(){o&&o.c(),e=ke()},l(s){o&&o.l(s),e=ke()},m(s,r){o&&o.m(s,r),T(s,e,r)},p(s,r){n===(n=l(s))&&o?o.p(s,r):(o&&o.d(1),o=n&&n(s),o&&(o.c(),o.m(e.parentNode,e)))},d(s){s&&p(e),o&&o.d(s)}}}function ps(t){let e;return{c(){e=R(t[3])},l(l){e=$(l,t[3])},m(l,n){T(l,e,n)},p(l,n){n&8&&Y(e,l[3])},d(l){l&&p(e)}}}function bs(t){let e,l;return{c(){e=g("img"),this.h()},l(n){e=h(n,"IMG",{alt:!0,src:!0}),this.h()},h(){d(e,"alt","bomb"),be(e.src,l=ve+"/bomb-large.png")||d(e,"src",l)},m(n,o){T(n,e,o)},p:G,d(n){n&&p(e)}}}function vs(t){let e,l,n,o,s=t[0]&&wt(t);return{c(){e=g("td"),s&&s.c(),this.h()},l(r){e=h(r,"TD",{class:!0});var a=I(e);s&&s.l(a),a.forEach(p),this.h()},h(){d(e,"class",l=bt(t[0]?"dug":t[1]?"flag":"")+" svelte-10n1hly")},m(r,a){T(r,e,a),s&&s.m(e,null),n||(o=ge(e,"mousedown",t[5]),n=!0)},p(r,[a]){r[0]?s?s.p(r,a):(s=wt(r),s.c(),s.m(e,null)):s&&(s.d(1),s=null),a&3&&l!==(l=bt(r[0]?"dug":r[1]?"flag":"")+" svelte-10n1hly")&&d(e,"class",l)},i:G,o:G,d(r){r&&p(e),s&&s.d(),n=!1,o()}}}function ks(t,e,l){const n=Yt();let{clicked:o=!1}=e,{flagged:s=!1}=e,{isBomb:r=!1}=e,{adjacentBombs:a=0}=e;function c(f){n("tile-clicked",f.button)}const i=f=>c(f);return t.$$set=f=>{"clicked"in f&&l(0,o=f.clicked),"flagged"in f&&l(1,s=f.flagged),"isBomb"in f&&l(2,r=f.isBomb),"adjacentBombs"in f&&l(3,a=f.adjacentBombs)},[o,s,r,a,c,i]}class Ss extends we{constructor(e){super(),Ie(this,e,ks,vs,Ee,{clicked:0,flagged:1,isBomb:2,adjacentBombs:3})}}function It(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function Pt(t,e,l){const n=t.slice();return n[5]=e[l],n[7]=l,n}function Nt(t){let e,l;function n(...o){return t[1](t[7],t[4],...o)}return e=new Ss({props:{clicked:t[0][t[4]][t[7]].clicked,flagged:t[0][t[4]][t[7]].flagged,isBomb:t[0][t[4]][t[7]].isBomb,adjacentBombs:t[0][t[4]][t[7]].adjacentBombs}}),e.$on("tile-clicked",n),{c(){Ae(e.$$.fragment)},l(o){Oe(e.$$.fragment,o)},m(o,s){ye(e,o,s),l=!0},p(o,s){t=o;const r={};s&1&&(r.clicked=t[0][t[4]][t[7]].clicked),s&1&&(r.flagged=t[0][t[4]][t[7]].flagged),s&1&&(r.isBomb=t[0][t[4]][t[7]].isBomb),s&1&&(r.adjacentBombs=t[0][t[4]][t[7]].adjacentBombs),e.$set(r)},i(o){l||(B(e.$$.fragment,o),l=!0)},o(o){Z(e.$$.fragment,o),l=!1},d(o){Te(e,o)}}}function Bt(t){let e,l,n,o=le(t[2]),s=[];for(let a=0;a<o.length;a+=1)s[a]=Nt(Pt(t,o,a));const r=a=>Z(s[a],1,1,()=>{s[a]=null});return{c(){e=g("tr");for(let a=0;a<s.length;a+=1)s[a].c();l=E(),this.h()},l(a){e=h(a,"TR",{class:!0});var c=I(e);for(let i=0;i<s.length;i+=1)s[i].l(c);l=w(c),c.forEach(p),this.h()},h(){d(e,"class","rows svelte-4jsriw")},m(a,c){T(a,e,c);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null);u(e,l),n=!0},p(a,c){if(c&1){o=le(a[2]);let i;for(i=0;i<o.length;i+=1){const f=Pt(a,o,i);s[i]?(s[i].p(f,c),B(s[i],1)):(s[i]=Nt(f),s[i].c(),B(s[i],1),s[i].m(e,l))}for(Tt(),i=o.length;i<s.length;i+=1)r(i);Lt()}},i(a){if(!n){for(let c=0;c<o.length;c+=1)B(s[c]);n=!0}},o(a){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)Z(s[c]);n=!1},d(a){a&&p(e),Ze(s,a)}}}function Es(t){let e,l,n,o=le(t[0]),s=[];for(let a=0;a<o.length;a+=1)s[a]=Bt(It(t,o,a));const r=a=>Z(s[a],1,1,()=>{s[a]=null});return{c(){e=g("table"),l=g("tbody");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=h(a,"TABLE",{class:!0});var c=I(e);l=h(c,"TBODY",{class:!0});var i=I(l);for(let f=0;f<s.length;f+=1)s[f].l(i);i.forEach(p),c.forEach(p),this.h()},h(){d(l,"class","grid svelte-4jsriw"),d(e,"class","svelte-4jsriw")},m(a,c){T(a,e,c),u(e,l);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(l,null);n=!0},p(a,[c]){if(c&1){o=le(a[0]);let i;for(i=0;i<o.length;i+=1){const f=It(a,o,i);s[i]?(s[i].p(f,c),B(s[i],1)):(s[i]=Bt(f),s[i].c(),B(s[i],1),s[i].m(l,null))}for(Tt(),i=o.length;i<s.length;i+=1)r(i);Lt()}},i(a){if(!n){for(let c=0;c<o.length;c+=1)B(s[c]);n=!0}},o(a){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)Z(s[c]);n=!1},d(a){a&&p(e),Ze(s,a)}}}function ws(t,e,l){let n;return D(t,x,s=>l(0,n=s)),[n,(s,r,a)=>ms(s,r,a.detail)]}class Is extends we{constructor(e){super(),Ie(this,e,ws,Es,Ee,{})}}function Ps(t){let e,l,n,o,s,r,a,c,i,f,v,_,k,z,H,j,re,M,A,Pe,ce,P,ee,U,ie,ue,fe,J,y,L,C,V,te,Q,_e,xe,de,_t,et,q,Je,tt,qe,st,Fe,nt,me,F;return me=new Is({}),{c(){e=g("section"),l=g("div"),n=g("div"),o=g("img"),r=E(),a=g("span"),c=R(t[0]),i=E(),f=g("img"),_=E(),k=g("span"),z=R(t[1]),H=E(),j=g("hr"),re=R(`
				20`),M=E(),A=g("img"),ce=E(),P=g("span"),ee=R(t[2]),U=E(),ie=g("hr"),ue=R(`
				10`),fe=E(),J=g("img"),L=E(),C=g("span"),V=R(t[3]),te=E(),Q=g("hr"),_e=R(`
				10`),xe=E(),de=g("img"),et=E(),q=g("span"),Je=R(t[4]),tt=E(),qe=g("hr"),st=E(),Fe=R(t[1]),nt=E(),Ae(me.$$.fragment),this.h()},l(O){e=h(O,"SECTION",{class:!0});var W=I(e);l=h(W,"DIV",{class:!0});var Ke=I(l);n=h(Ke,"DIV",{class:!0});var N=I(n);o=h(N,"IMG",{alt:!0,src:!0,class:!0}),r=w(N),a=h(N,"SPAN",{class:!0});var pt=I(a);c=$(pt,t[0]),pt.forEach(p),i=w(N),f=h(N,"IMG",{alt:!0,src:!0,class:!0}),_=w(N),k=h(N,"SPAN",{class:!0});var Ne=I(k);z=$(Ne,t[1]),H=w(Ne),j=h(Ne,"HR",{class:!0}),re=$(Ne,`
				20`),Ne.forEach(p),M=w(N),A=h(N,"IMG",{alt:!0,src:!0,class:!0}),ce=w(N),P=h(N,"SPAN",{class:!0});var Be=I(P);ee=$(Be,t[2]),U=w(Be),ie=h(Be,"HR",{class:!0}),ue=$(Be,`
				10`),Be.forEach(p),fe=w(N),J=h(N,"IMG",{alt:!0,src:!0,class:!0}),L=w(N),C=h(N,"SPAN",{class:!0});var Ce=I(C);V=$(Ce,t[3]),te=w(Ce),Q=h(Ce,"HR",{class:!0}),_e=$(Ce,`
				10`),Ce.forEach(p),xe=w(N),de=h(N,"IMG",{alt:!0,src:!0,class:!0}),et=w(N),q=h(N,"SPAN",{class:!0});var pe=I(q);Je=$(pe,t[4]),tt=w(pe),qe=h(pe,"HR",{class:!0}),st=w(pe),Fe=$(pe,t[1]),pe.forEach(p),N.forEach(p),nt=w(Ke),Oe(me.$$.fragment,Ke),Ke.forEach(p),W.forEach(p),this.h()},h(){d(o,"alt","available checks"),be(o.src,s=ve+"/ap-icon-large.png")||d(o,"src",s),d(o,"class","svelte-1o5v9kj"),d(a,"class","svelte-1o5v9kj"),d(f,"alt","placed bombs"),be(f.src,v=ve+"/bomb-large.png")||d(f,"src",v),d(f,"class","svelte-1o5v9kj"),d(j,"class","svelte-1o5v9kj"),d(k,"class","svelte-1o5v9kj"),d(A,"alt","map height"),be(A.src,Pe=ve+"/up-down-arrow-big.png")||d(A,"src",Pe),d(A,"class","svelte-1o5v9kj"),d(ie,"class","svelte-1o5v9kj"),d(P,"class","svelte-1o5v9kj"),d(J,"alt","map width"),be(J.src,y=ve+"/left-right-arrow-big.png")||d(J,"src",y),d(J,"class","svelte-1o5v9kj"),d(Q,"class","svelte-1o5v9kj"),d(C,"class","svelte-1o5v9kj"),d(de,"alt","flagged spots"),be(de.src,_t=ve+"/heavy-rock-big.png")||d(de,"src",_t),d(de,"class","svelte-1o5v9kj"),d(qe,"class","svelte-1o5v9kj"),d(q,"class","svelte-1o5v9kj"),d(n,"class","game-status svelte-1o5v9kj"),d(l,"class","island svelte-1o5v9kj"),d(e,"class","svelte-1o5v9kj")},m(O,W){T(O,e,W),u(e,l),u(l,n),u(n,o),u(n,r),u(n,a),u(a,c),u(n,i),u(n,f),u(n,_),u(n,k),u(k,z),u(k,H),u(k,j),u(k,re),u(n,M),u(n,A),u(n,ce),u(n,P),u(P,ee),u(P,U),u(P,ie),u(P,ue),u(n,fe),u(n,J),u(n,L),u(n,C),u(C,V),u(C,te),u(C,Q),u(C,_e),u(n,xe),u(n,de),u(n,et),u(n,q),u(q,Je),u(q,tt),u(q,qe),u(q,st),u(q,Fe),u(l,nt),ye(me,l,null),F=!0},p(O,[W]){(!F||W&1)&&Y(c,O[0]),(!F||W&2)&&Y(z,O[1]),(!F||W&4)&&Y(ee,O[2]),(!F||W&8)&&Y(V,O[3]),(!F||W&16)&&Y(Je,O[4]),(!F||W&2)&&Y(Fe,O[1])},i(O){F||(B(me.$$.fragment,O),F=!0)},o(O){Z(me.$$.fragment,O),F=!1},d(O){O&&p(e),Te(me)}}}function Ns(t,e,l){let n,o,s,r,a,c,i,f,v;return D(t,Le,_=>l(5,n=_)),D(t,Ge,_=>l(6,o=_)),D(t,Me,_=>l(7,s=_)),D(t,De,_=>l(8,r=_)),D(t,Ht,_=>l(0,a=_)),D(t,He,_=>l(1,c=_)),D(t,ae,_=>l(2,i=_)),D(t,oe,_=>l(3,f=_)),D(t,es,_=>l(4,v=_)),t.$$.update=()=>{t.$$.dirty&480&&ut()},[a,c,i,f,v,n,o,s,r]}class Bs extends we{constructor(e){super(),Ie(this,e,Ns,Ps,Ee,{})}}function Cs(t){const e=t-1;return e*e*e+1}function ht(t,{delay:e=0,duration:l=400,easing:n=Cs,x:o=0,y:s=0,opacity:r=0}={}){const a=getComputedStyle(t),c=+a.opacity,i=a.transform==="none"?"":a.transform,f=c*(1-r),[v,_]=vt(o),[k,z]=vt(s);return{delay:e,duration:l,easing:n,css:(H,j)=>`
			transform: ${i} translate(${(1-H)*v}${_}, ${(1-H)*k}${z});
			opacity: ${c-f*j}`}}function Ct(t,e,l){const n=t.slice();return n[4]=e[l],n}function jt(t,e,l){const n=t.slice();return n[7]=e[l].text,n[8]=e[l].type,n}function js(t){let e,l=t[4]+"",n,o;return{c(){e=g("p"),n=R(l)},l(s){e=h(s,"P",{});var r=I(e);n=$(r,l),r.forEach(p)},m(s,r){T(s,e,r),u(e,n)},p(s,r){r&2&&l!==(l=s[4]+"")&&Y(n,l)},i(s){o||ft(()=>{o=dt(e,ht,{y:1200,duration:1e3}),o.start()})},o:G,d(s){s&&p(e)}}}function As(t){let e,l=t[4].text+"",n,o;return{c(){e=g("p"),n=R(l)},l(s){e=h(s,"P",{});var r=I(e);n=$(r,l),r.forEach(p)},m(s,r){T(s,e,r),u(e,n)},p(s,r){r&2&&l!==(l=s[4].text+"")&&Y(n,l)},i(s){o||ft(()=>{o=dt(e,ht,{y:1200,duration:1e3}),o.start()})},o:G,d(s){s&&p(e)}}}function Os(t){var o;let e,l=le(((o=t[4])==null?void 0:o.messageParts)&&t[4].messageParts),n=[];for(let s=0;s<l.length;s+=1)n[s]=At(jt(t,l,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ke()},l(s){for(let r=0;r<n.length;r+=1)n[r].l(s);e=ke()},m(s,r){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(s,r);T(s,e,r)},p(s,r){var a;if(r&2){l=le(((a=s[4])==null?void 0:a.messageParts)&&s[4].messageParts);let c;for(c=0;c<l.length;c+=1){const i=jt(s,l,c);n[c]?(n[c].p(i,r),B(n[c],1)):(n[c]=At(i),n[c].c(),B(n[c],1),n[c].m(e.parentNode,e))}for(;c<n.length;c+=1)n[c].d(1);n.length=l.length}},i(s){for(let r=0;r<l.length;r+=1)B(n[r])},o:G,d(s){s&&p(e),Ze(n,s)}}}function At(t){let e,l=t[7]+"",n,o;return{c(){e=g("p"),n=R(l)},l(s){e=h(s,"P",{});var r=I(e);n=$(r,l),r.forEach(p)},m(s,r){T(s,e,r),u(e,n)},p(s,r){r&2&&l!==(l=s[7]+"")&&Y(n,l)},i(s){o||ft(()=>{o=dt(e,ht,{y:1200,duration:1e3}),o.start()})},o:G,d(s){s&&p(e)}}}function Ot(t){let e,l,n;function o(a,c){return c&2&&(e=null),c&2&&(l=null),e==null&&(e=!!Object.hasOwn(a[4],"messageParts")),e?Os:(l==null&&(l=!!Object.hasOwn(a[4],"text")),l?As:js)}let s=o(t,-1),r=s(t);return{c(){r.c(),n=ke()},l(a){r.l(a),n=ke()},m(a,c){r.m(a,c),T(a,n,c)},p(a,c){s===(s=o(a,c))&&r?r.p(a,c):(r.d(1),r=s(a),r&&(r.c(),B(r,1),r.m(n.parentNode,n)))},i(a){B(r)},o:G,d(a){a&&p(n),r.d(a)}}}function ys(t){let e,l,n,o,s,r,a=le(t[1]),c=[];for(let i=0;i<a.length;i+=1)c[i]=Ot(Ct(t,a,i));return{c(){e=g("section"),l=g("span");for(let i=0;i<c.length;i+=1)c[i].c();n=E(),o=g("input"),this.h()},l(i){e=h(i,"SECTION",{class:!0});var f=I(e);l=h(f,"SPAN",{id:!0,class:!0});var v=I(l);for(let _=0;_<c.length;_+=1)c[_].l(v);v.forEach(p),n=w(f),o=h(f,"INPUT",{class:!0,type:!0}),f.forEach(p),this.h()},h(){d(l,"id","console"),d(l,"class","svelte-1miskre"),d(o,"class","console-input svelte-1miskre"),d(o,"type","text"),d(e,"class","svelte-1miskre")},m(i,f){T(i,e,f),u(e,l);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(l,null);u(e,n),u(e,o),ne(o,t[0]),s||(r=[ge(o,"input",t[3]),ge(o,"keydown",t[2])],s=!0)},p(i,[f]){if(f&2){a=le(i[1]);let v;for(v=0;v<a.length;v+=1){const _=Ct(i,a,v);c[v]?(c[v].p(_,f),B(c[v],1)):(c[v]=Ot(_),c[v].c(),B(c[v],1),c[v].m(l,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=a.length}f&1&&o.value!==i[0]&&ne(o,i[0])},i(i){for(let f=0;f<a.length;f+=1)B(c[f])},o:G,d(i){i&&p(e),Ze(c,i),s=!1,yt(r)}}}function Ts(t,e,l){let n;D(t,K,a=>l(1,n=a));let o="";function s(a){a.key==="Enter"&&ls(o)}function r(){o=this.value,l(0,o)}return[o,n,s,r]}class Ls extends we{constructor(e){super(),Ie(this,e,Ts,ys,Ee,{})}}function Rs(t){let e,l,n,o,s,r,a;return l=new us({}),o=new Bs({}),r=new Ls({}),{c(){e=g("main"),Ae(l.$$.fragment),n=E(),Ae(o.$$.fragment),s=E(),Ae(r.$$.fragment),this.h()},l(c){e=h(c,"MAIN",{class:!0});var i=I(e);Oe(l.$$.fragment,i),n=w(i),Oe(o.$$.fragment,i),s=w(i),Oe(r.$$.fragment,i),i.forEach(p),this.h()},h(){d(e,"class","svelte-15j489c")},m(c,i){T(c,e,i),ye(l,e,null),u(e,n),ye(o,e,null),u(e,s),ye(r,e,null),a=!0},p:G,i(c){a||(B(l.$$.fragment,c),B(o.$$.fragment,c),B(r.$$.fragment,c),a=!0)},o(c){Z(l.$$.fragment,c),Z(o.$$.fragment,c),Z(r.$$.fragment,c),a=!1},d(c){c&&p(e),Te(l),Te(o),Te(r)}}}function $s(t){return zt(()=>{document.addEventListener("contextmenu",e=>e.preventDefault())}),[]}class Hs extends we{constructor(e){super(),Ie(this,e,$s,Rs,Ee,{})}}export{Hs as component};

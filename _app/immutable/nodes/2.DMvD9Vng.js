var ss=Object.defineProperty;var ns=(t,e,l)=>e in t?ss(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Pe=(t,e,l)=>(ns(t,typeof e!="symbol"?e+"":e,l),l);import{A as k,s as we,f as p,a as y,g as _,h as B,y as be,c as C,d as b,j as m,i as A,B as u,z as Q,C as L,l as M,m as R,D as ne,E as W,F as qt,G as dt,H as ls,I as Pt,J as pt,K as as,e as ve,n as V,L as _e,M as nt,N as Ee,p as rs,o as os}from"../chunks/scheduler.BXUoaqq0.js";import{S as ye,i as Ce,a as P,g as Ze,c as xe,t as U,b as Oe,d as $e,m as Ae,e as je,f as ke,h as wt}from"../chunks/index.Dc3hJP2P.js";import{r as We,d as re,w as N}from"../chunks/index.dccUVMPl.js";import{b as le}from"../chunks/paths.U4HrzTtQ.js";function ae(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}class is{constructor(){Pe(this,"isBomb",!1);Pe(this,"adjacentBombs",0);Pe(this,"clicked",!1);Pe(this,"flagged",!1)}}const cs=We({major:0,minor:5,build:0,class:"Version"});We({0:"Disabled",1:"Enabled",2:"Goal",6:"Auto",7:"Enabled + Auto"});const mt=N(null),Et=N(null),Yt=N(null),yt=N([]),us=re(yt,t=>{let e={};return t==null||t.forEach(l=>e[l.slot]=l.name),e}),zt=N({}),Kt=N({}),fs=N({}),ds=We(38281),Se=N(null),ht=N(!1),gt=N(null),_t=N([]),ms=We(10),et=N(!1),bt=N(0),Ve=N(null),Qe=N(null),Le=N([]),De=N([]),hs=We({CLIENT_UNKNOWN:0,CLIENT_READY:10,CLIENT_PLAYING:20,CLIENT_GOAL:30}),q=N([]),Te=N(""),Me=N(5),Re=N(5),Ge=N(5);let fe=N(5),de=N(5),lt=N(5),Ue=N(0),ue=N(!1),X=N([]),Vt=re([Le],([t])=>t.length),gs=re([De],([t])=>t.length);const Qt=re([Vt,gs,lt,de,fe],([t,e,l,s,r])=>Math.max(Math.min(l+r+s-10-t,e),0)),Ct=re([X],([t])=>t.flatMap(e=>e)),ps=re([Ct],([t])=>t.filter(e=>e.flagged).length),_s=re([de,fe,Ct],([t,e,l])=>t*e-l.filter(s=>s.clicked).length),Xt=re([Ue,_s,Ct],([t,e,l])=>t===e&&!l.some(s=>s.clicked&&s.isBomb)),vt=N(!1);let Zt=null,Xe=1,kt=10,v=null,Nt={},xt=!1;Le.subscribe(t=>t);De.subscribe(t=>t);Et.subscribe(t=>Zt=t);Yt.subscribe(t=>t);yt.subscribe(t=>t);bt.subscribe(t=>Xe=t);Se.subscribe(t=>v=t);q.subscribe(t=>t);_t.subscribe(t=>t);ms.subscribe(t=>kt=t);us.subscribe(t=>Nt=t);Te.subscribe(t=>t);ue.subscribe(t=>xt=t);function bs(t){if(t){const e=k(Vt);k(Qt)?Is(81e3+e):k(Xt)&&Bs()}}function se(t,e){const l=k(X);0<=t&&t<k(de)&&0<=e&&e<k(fe)&&l[e][t].isBomb!==!0&&(l[e][t].adjacentBombs+=1)}function vs(t,e,l){l===0&&x(t,e,!1),l===2&&ks(t,e),X.update(s=>s)}function ks(t,e){const l=k(X);if(0<=t&&t<k(de)&&0<=e&&e<k(fe)&&!l[e][t].clicked){let s=l[e][t];s.flagged=!s.flagged,l[e][t]=s}}async function x(t,e,l=!0){const s=k(X);if(0<=t&&t<k(de)&&0<=e&&e<k(fe)&&!s[e][t].clicked&&!s[e][t].flagged){let r=s[e][t];r.clicked=!0,k(Ue)===0&&(ue.set(!0),ws({x:t,y:e})),!r.isBomb&&r.adjacentBombs==0&&(x(t-1,e-1),x(t,e-1),x(t+1,e-1),x(t-1,e),x(t+1,e),x(t-1,e+1),x(t,e+1),x(t+1,e+1)),r.isBomb&&(St(),Ps(),setTimeout(()=>{ue.set(!1),tt()},2500)),s[e][t]=r}k(Xt)&&(St(),bs(!0),setTimeout(()=>{ue.set(!1),tt()},2500))}function St(){const t=k(X);t.forEach((e,l)=>{e.forEach((s,r)=>{s.clicked=!0,t[l][r]=s})})}function tt(){if(!k(ue)){Ue.set(0);const t=k(Me),e=k(Re),l=k(Ge);lt.set(t),de.set(e),fe.set(l),X.set(Array.from({length:l},()=>Array.from({length:e},()=>new is)))}}function Ss(t,e,l){return t.x>=e-1&&t.x<=e+1&&t.y>=l-1&&t.y<=l+1}function ws(t){const e=k(Me),l=k(Re),s=k(Ge),r=k(X);for(;k(Ue)<k(lt);){const n=Math.round(Math.random()*l*e)%l,i=Math.round(Math.random()*s*e)%s;if(Ss(t,n,i))continue;const a=r[i][n];a.isBomb!==!0&&(se(n-1,i-1),se(n,i-1),se(n+1,i-1),se(n-1,i),a.isBomb=!0,se(n+1,i),se(n-1,i+1),se(n,i+1),se(n+1,i+1),Ue.update(o=>o+1))}}function Es(){St(),setTimeout(()=>{ue.set(!1),tt()},2500),X.update(t=>t)}const es=async(t,e,l)=>{if((v==null?void 0:v.readyState)===WebSocket.OPEN&&(v.close(),Se.set(null)),!t||!e)return;ht.set(!1);let s=t;s.search(/^\/connect /)>-1&&(s=s.substring(9)),s.search(/:\d+$/)===-1&&(s=`${s}:${k(ds)}`);const r=/^ws:\/\//.test(s)?"ws":"wss";s=s.replace(/^.*\/\//,""),gt.set(l??null),_t.set([]),Se.set(new WebSocket(`${r}://${s}`)),v&&(v.onopen=()=>{},v.onmessage=n=>{const i=JSON.parse(n.data);for(const a of i)switch(a.cmd){case"RoomInfo":!localStorage.getItem("dataPackageVersion")||!localStorage.getItem("dataPackage")||a.datapackage_version!==localStorage.getItem("dataPackageVersion")?Cs():Tt(JSON.parse(localStorage.getItem("dataPackage")||"")),mt.set(e),v==null||v.send(JSON.stringify([{cmd:"Connect",game:"ChecksFinder",name:k(mt),uuid:ys(),tags:["AP","DeathLink"],password:k(gt),version:k(cs),items_handling:7,slot_data:!0}]));break;case"Connected":bt.set(0),Le.set(a.checked_locations),De.set(a.missing_locations),_t.set([]),Me.set(5),Ge.set(5),Re.set(5),Te.set("Connected"),yt.set(a.players),Yt.set(a.team),Et.set(a.slot);break;case"ConnectionRefused":Te.set("Not Connected"),v&&v.readyState===WebSocket.OPEN&&(a.errors.includes("InvalidPassword")?q.update(o=>[...o,gt===null?"This server requires a password. Please use /connect [server] [password] to connect.":"Your provided password is incorrect. Please try again."]):q.update(o=>[...o,`Error while connecting to AP server: ${a.errors.join(", ")}.`]),ht.set(!0),v==null||v.close());break;case"ReceivedItems":a.items.forEach(o=>{switch(o.item){case 8e4:Re.update(c=>c+1);break;case 80001:Ge.update(c=>c+1);break;case 80002:Me.update(c=>c+1);break}});break;case"RoomUpdate":break;case"Print":q.update(o=>[...o,a.text]);break;case"PrintJSON":switch(a.type){case"ItemSend":q.update(o=>[...o,Ts(a.data)]);break;default:q.update(o=>[...o,...a.data]);break}break;case"DataPackage":a.data.version!==0&&(localStorage.setItem("dataPackageVersion",a.data.version),localStorage.setItem("dataPackage",JSON.stringify(a.data))),Tt(a.data);break;case"Bounced":a.tags.includes("DeathLink")&&a.data.source!==k(mt)&&xt&&Es(),q.update(o=>[...o,a.data.source+" "+a.data.cause]);break}},v.onclose=()=>{Te.set("Not Connected");const n=k(Qe);et||!n||(Ve&&(window.clearTimeout(k(Ve)??0),Ve.set(null)),Ve.set(window.setTimeout(()=>{if((v==null?void 0:v.readyState)!==WebSocket.OPEN&&!k(ht)&&!k(et)){if(bt.set(Xe+1),Xe>kt){q.update(i=>[...i,"Archipelago server connection lost. The connection closed unexpectedly. Please try to reconnect, or restart the client."]);return}q.update(i=>[...i,`Connection to AP server lost. Attempting to reconnect (${Xe} of ${kt})`]),es(t)}},5e3)))},v.onerror=()=>{(v==null?void 0:v.readyState)===WebSocket.OPEN&&(q.update(n=>[...n,"Archipelago server connection lost. The connection closed unexpectedly. Please try to reconnect, or restart the client."]),v.close())})},ys=()=>{let t=localStorage.getItem("clientId");return t||(t=(Math.random()*1e16).toString(),localStorage.setItem("clientId",t)),t},Cs=()=>{!v||v.readyState!==WebSocket.OPEN||v.send(JSON.stringify([{cmd:"GetDataPackage"}]))},Ns=t=>{(v==null?void 0:v.readyState)===WebSocket.OPEN&&v.send(JSON.stringify([{cmd:"Say",text:t}]))},Is=t=>{let e=k(Le);e.push(t),Le.set(e);let l=k(De);l.shift(),De.set(l),v==null||v.send(JSON.stringify([{cmd:"LocationChecks",locations:[t]}]))},Bs=()=>{v==null||v.send(JSON.stringify([{cmd:"StatusUpdate",status:k(hs).CLIENT_GOAL}]))},Ps=()=>{v==null||v.send(JSON.stringify([{cmd:"Bounce",tags:["DeathLink"],data:{time:Date.now(),source:Nt[Zt||0],cause:"blew it"}}]))},Tt=t=>{let e={},l={};Object.values(t.games).forEach(s=>{Object.keys(s.item_name_to_id).forEach(r=>{e[s.item_name_to_id[r]]=r}),Object.keys(s.location_name_to_id).forEach(r=>{l[s.location_name_to_id[r]]=r})}),zt.set(e),Kt.set(l),fs.set(t.games.ChecksFinder.location_name_to_id)},Ts=t=>{const e=k(zt),l=k(Kt);return t.map(s=>{switch(s.type){case"player_id":return Nt[parseInt(s.text)];case"item_id":return e[+s.text];case"location_id":return l[+s.text];default:return s.text}}).join("")};function Ot(t){let e,l,s,r="Server address:",n,i,a,o,c,f="Player name:",S,d,h,g,w,E="Password:",I,D,F,Y,me=Se?"Connect":"Disconnect",G,ee,he;return{c(){e=p("form"),l=p("div"),s=p("label"),s.textContent=r,n=y(),i=p("input"),a=y(),o=p("div"),c=p("label"),c.textContent=f,S=y(),d=p("input"),h=y(),g=p("div"),w=p("label"),w.textContent=E,I=y(),D=p("input"),F=y(),Y=p("button"),G=M(me),this.h()},l($){e=_($,"FORM",{class:!0});var O=B(e);l=_(O,"DIV",{class:!0});var te=B(l);s=_(te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),be(s)!=="svelte-1x6qc9h"&&(s.textContent=r),n=C(te),i=_(te,"INPUT",{name:!0,id:!0,class:!0}),te.forEach(b),a=C(O),o=_(O,"DIV",{class:!0});var H=B(o);c=_(H,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),be(c)!=="svelte-7ul9v9"&&(c.textContent=f),S=C(H),d=_(H,"INPUT",{name:!0,id:!0,class:!0}),H.forEach(b),h=C(O),g=_(O,"DIV",{class:!0});var oe=B(g);w=_(oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),be(w)!=="svelte-bhu94"&&(w.textContent=E),I=C(oe),D=_(oe,"INPUT",{name:!0,id:!0,class:!0}),oe.forEach(b),F=C(O),Y=_(O,"BUTTON",{class:!0});var ge=B(Y);G=R(ge,me),ge.forEach(b),O.forEach(b),this.h()},h(){m(s,"for","address"),m(s,"class","svelte-grff0s"),m(i,"name","address"),m(i,"id","server-address"),m(i,"class","svelte-grff0s"),m(l,"class","svelte-grff0s"),m(c,"for","player"),m(c,"class","svelte-grff0s"),m(d,"name","player"),m(d,"id","player"),m(d,"class","svelte-grff0s"),m(o,"class","svelte-grff0s"),m(w,"for","password"),m(w,"class","svelte-grff0s"),m(D,"name","password"),m(D,"id","password"),m(D,"class","svelte-grff0s"),m(g,"class","svelte-grff0s"),m(Y,"class","svelte-grff0s"),m(e,"class","svelte-grff0s")},m($,O){A($,e,O),u(e,l),u(l,s),u(l,n),u(l,i),ne(i,t[0]),u(e,a),u(e,o),u(o,c),u(o,S),u(o,d),ne(d,t[1]),u(e,h),u(e,g),u(g,w),u(g,I),u(g,D),ne(D,t[2]),u(e,F),u(e,Y),u(Y,G),ee||(he=[W(i,"input",t[5]),W(d,"input",t[6]),W(D,"input",t[7]),W(Y,"click",t[4])],ee=!0)},p($,O){O&1&&i.value!==$[0]&&ne(i,$[0]),O&2&&d.value!==$[1]&&ne(d,$[1]),O&4&&D.value!==$[2]&&ne(D,$[2])},d($){$&&b(e),ee=!1,qt(he)}}}function Os(t){let e,l,s="Digging Game",r,n=t[3]!=="Connected"&&Ot(t);return{c(){e=p("section"),l=p("h1"),l.textContent=s,r=y(),n&&n.c(),this.h()},l(i){e=_(i,"SECTION",{class:!0});var a=B(e);l=_(a,"H1",{class:!0,"data-svelte-h":!0}),be(l)!=="svelte-584zkb"&&(l.textContent=s),r=C(a),n&&n.l(a),a.forEach(b),this.h()},h(){m(l,"class","svelte-grff0s"),m(e,"class","svelte-grff0s")},m(i,a){A(i,e,a),u(e,l),u(e,r),n&&n.m(e,null)},p(i,[a]){i[3]!=="Connected"?n?n.p(i,a):(n=Ot(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:Q,o:Q,d(i){i&&b(e),n&&n.d()}}}function $s(t,e,l){let s,r,n,i;L(t,Se,g=>l(8,s=g)),L(t,Qe,g=>l(9,r=g)),L(t,et,g=>l(10,n=g)),L(t,Te,g=>l(3,i=g));let a=k(Qe),o=k(Et),c="";async function f(g){if(!a){dt(et,n=!0,n),dt(Qe,r=null,r),s&&s.readyState===WebSocket.OPEN&&(s.close(),dt(Se,s=null,s));return}await es(a,o,c)}function S(){a=this.value,l(0,a)}function d(){o=this.value,l(1,o)}function h(){c=this.value,l(2,c)}return[a,o,c,i,f,S,d,h]}class As extends ye{constructor(e){super(),Ce(this,e,$s,Os,we,{})}}function ts(t){const e=t-1;return e*e*e+1}function st(t){return t/=.5,t<1?.5*t*t:(t--,-.5*(t*(t-2)-1))}function $t(t,{delay:e=0,duration:l=400,easing:s=ls}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:l,easing:s,css:n=>`opacity: ${n*r}`}}function He(t,{delay:e=0,duration:l=400,easing:s=ts,x:r=0,y:n=0,opacity:i=0}={}){const a=getComputedStyle(t),o=+a.opacity,c=a.transform==="none"?"":a.transform,f=o*(1-i),[S,d]=Pt(r),[h,g]=Pt(n);return{delay:e,duration:l,easing:s,css:(w,E)=>`
			transform: ${c} translate(${(1-w)*S}${d}, ${(1-w)*h}${g});
			opacity: ${o-f*E}`}}function At(t,{delay:e=0,duration:l=400,easing:s=ts,axis:r="y"}={}){const n=getComputedStyle(t),i=+n.opacity,a=r==="y"?"height":"width",o=parseFloat(n[a]),c=r==="y"?["top","bottom"]:["left","right"],f=c.map(I=>`${I[0].toUpperCase()}${I.slice(1)}`),S=parseFloat(n[`padding${f[0]}`]),d=parseFloat(n[`padding${f[1]}`]),h=parseFloat(n[`margin${f[0]}`]),g=parseFloat(n[`margin${f[1]}`]),w=parseFloat(n[`border${f[0]}Width`]),E=parseFloat(n[`border${f[1]}Width`]);return{delay:e,duration:l,easing:s,css:I=>`overflow: hidden;opacity: ${Math.min(I*20,1)*i};${a}: ${I*o}px;padding-${c[0]}: ${I*S}px;padding-${c[1]}: ${I*d}px;margin-${c[0]}: ${I*h}px;margin-${c[1]}: ${I*g}px;border-${c[0]}-width: ${I*w}px;border-${c[1]}-width: ${I*E}px;`}}function jt(t){let e;function l(n,i){if(n[2]===!0)return Ls;if(n[3]>0)return js}let s=l(t),r=s&&s(t);return{c(){r&&r.c(),e=ve()},l(n){r&&r.l(n),e=ve()},m(n,i){r&&r.m(n,i),A(n,e,i)},p(n,i){s===(s=l(n))&&r?r.p(n,i):(r&&r.d(1),r=s&&s(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){n&&b(e),r&&r.d(n)}}}function js(t){let e;return{c(){e=M(t[3])},l(l){e=R(l,t[3])},m(l,s){A(l,e,s)},p(l,s){s&8&&V(e,l[3])},d(l){l&&b(e)}}}function Ls(t){let e,l;return{c(){e=p("img"),this.h()},l(s){e=_(s,"IMG",{alt:!0,src:!0}),this.h()},h(){m(e,"alt","bomb"),_e(e.src,l=le+"/bomb-large.png")||m(e,"src",l)},m(s,r){A(s,e,r)},p:Q,d(s){s&&b(e)}}}function Ds(t){let e,l,s,r,n=t[0]&&jt(t);return{c(){e=p("td"),n&&n.c(),this.h()},l(i){e=_(i,"TD",{class:!0});var a=B(e);n&&n.l(a),a.forEach(b),this.h()},h(){m(e,"class",l=pt(t[0]?"dug":t[1]?"flag":"")+" svelte-10n1hly")},m(i,a){A(i,e,a),n&&n.m(e,null),s||(r=W(e,"mousedown",t[5]),s=!0)},p(i,[a]){i[0]?n?n.p(i,a):(n=jt(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),a&3&&l!==(l=pt(i[0]?"dug":i[1]?"flag":"")+" svelte-10n1hly")&&m(e,"class",l)},i:Q,o:Q,d(i){i&&b(e),n&&n.d(),s=!1,r()}}}function Ms(t,e,l){const s=as();let{clicked:r=!1}=e,{flagged:n=!1}=e,{isBomb:i=!1}=e,{adjacentBombs:a=0}=e;function o(f){s("tile-clicked",f.button)}const c=f=>o(f);return t.$$set=f=>{"clicked"in f&&l(0,r=f.clicked),"flagged"in f&&l(1,n=f.flagged),"isBomb"in f&&l(2,i=f.isBomb),"adjacentBombs"in f&&l(3,a=f.adjacentBombs)},[r,n,i,a,o,c]}class Rs extends ye{constructor(e){super(),Ce(this,e,Ms,Ds,we,{clicked:0,flagged:1,isBomb:2,adjacentBombs:3})}}function Lt(t,e,l){const s=t.slice();return s[2]=e[l],s[4]=l,s}function Dt(t,e,l){const s=t.slice();return s[5]=e[l],s[7]=l,s}function Mt(t){let e,l;function s(...r){return t[1](t[7],t[4],...r)}return e=new Rs({props:{clicked:t[0][t[4]][t[7]].clicked,flagged:t[0][t[4]][t[7]].flagged,isBomb:t[0][t[4]][t[7]].isBomb,adjacentBombs:t[0][t[4]][t[7]].adjacentBombs}}),e.$on("tile-clicked",s),{c(){Oe(e.$$.fragment)},l(r){$e(e.$$.fragment,r)},m(r,n){Ae(e,r,n),l=!0},p(r,n){t=r;const i={};n&1&&(i.clicked=t[0][t[4]][t[7]].clicked),n&1&&(i.flagged=t[0][t[4]][t[7]].flagged),n&1&&(i.isBomb=t[0][t[4]][t[7]].isBomb),n&1&&(i.adjacentBombs=t[0][t[4]][t[7]].adjacentBombs),e.$set(i)},i(r){l||(P(e.$$.fragment,r),l=!0)},o(r){U(e.$$.fragment,r),l=!1},d(r){je(e,r)}}}function Rt(t){let e,l,s,r=ae(t[2]),n=[];for(let a=0;a<r.length;a+=1)n[a]=Mt(Dt(t,r,a));const i=a=>U(n[a],1,1,()=>{n[a]=null});return{c(){e=p("tr");for(let a=0;a<n.length;a+=1)n[a].c();l=y(),this.h()},l(a){e=_(a,"TR",{class:!0});var o=B(e);for(let c=0;c<n.length;c+=1)n[c].l(o);l=C(o),o.forEach(b),this.h()},h(){m(e,"class","rows svelte-4jsriw")},m(a,o){A(a,e,o);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);u(e,l),s=!0},p(a,o){if(o&1){r=ae(a[2]);let c;for(c=0;c<r.length;c+=1){const f=Dt(a,r,c);n[c]?(n[c].p(f,o),P(n[c],1)):(n[c]=Mt(f),n[c].c(),P(n[c],1),n[c].m(e,l))}for(Ze(),c=r.length;c<n.length;c+=1)i(c);xe()}},i(a){if(!s){for(let o=0;o<r.length;o+=1)P(n[o]);s=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)U(n[o]);s=!1},d(a){a&&b(e),nt(n,a)}}}function Gs(t){let e,l,s,r=ae(t[0]),n=[];for(let a=0;a<r.length;a+=1)n[a]=Rt(Lt(t,r,a));const i=a=>U(n[a],1,1,()=>{n[a]=null});return{c(){e=p("table"),l=p("tbody");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=_(a,"TABLE",{class:!0});var o=B(e);l=_(o,"TBODY",{class:!0});var c=B(l);for(let f=0;f<n.length;f+=1)n[f].l(c);c.forEach(b),o.forEach(b),this.h()},h(){m(l,"class","grid svelte-4jsriw"),m(e,"class","svelte-4jsriw")},m(a,o){A(a,e,o),u(e,l);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(l,null);s=!0},p(a,[o]){if(o&1){r=ae(a[0]);let c;for(c=0;c<r.length;c+=1){const f=Lt(a,r,c);n[c]?(n[c].p(f,o),P(n[c],1)):(n[c]=Rt(f),n[c].c(),P(n[c],1),n[c].m(l,null))}for(Ze(),c=r.length;c<n.length;c+=1)i(c);xe()}},i(a){if(!s){for(let o=0;o<r.length;o+=1)P(n[o]);s=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)U(n[o]);s=!1},d(a){a&&b(e),nt(n,a)}}}function Us(t,e,l){let s;return L(t,X,n=>l(0,s=n)),[s,(n,i,a)=>vs(n,i,a.detail)]}class Hs extends ye{constructor(e){super(),Ce(this,e,Us,Gs,we,{})}}function Ws(t){let e,l,s,r,n,i,a,o,c,f,S,d,h,g,w,E,I,D,F,Y,me,G,ee,he,$,O,te,H,oe,ge,Z,Fe,at,Je,rt,ot,ie,It,it,z,qe,ct,Ye,ut,ze,ft,ce,K;return ce=new Hs({}),{c(){e=p("section"),l=p("div"),s=p("div"),r=p("img"),i=y(),a=p("span"),o=M(t[0]),c=y(),f=p("img"),d=y(),h=p("span"),g=M(t[1]),w=y(),E=p("hr"),I=M(`
				20`),D=y(),F=p("img"),me=y(),G=p("span"),ee=M(t[2]),he=y(),$=p("hr"),O=M(`
				10`),te=y(),H=p("img"),ge=y(),Z=p("span"),Fe=M(t[3]),at=y(),Je=p("hr"),rt=M(`
				10`),ot=y(),ie=p("img"),it=y(),z=p("span"),qe=M(t[4]),ct=y(),Ye=p("hr"),ut=y(),ze=M(t[1]),ft=y(),Oe(ce.$$.fragment),this.h()},l(j){e=_(j,"SECTION",{class:!0});var J=B(e);l=_(J,"DIV",{class:!0});var Ke=B(l);s=_(Ke,"DIV",{class:!0});var T=B(s);r=_(T,"IMG",{alt:!0,src:!0,class:!0}),i=C(T),a=_(T,"SPAN",{class:!0});var Bt=B(a);o=R(Bt,t[0]),Bt.forEach(b),c=C(T),f=_(T,"IMG",{alt:!0,src:!0,class:!0}),d=C(T),h=_(T,"SPAN",{class:!0});var Ne=B(h);g=R(Ne,t[1]),w=C(Ne),E=_(Ne,"HR",{class:!0}),I=R(Ne,`
				20`),Ne.forEach(b),D=C(T),F=_(T,"IMG",{alt:!0,src:!0,class:!0}),me=C(T),G=_(T,"SPAN",{class:!0});var Ie=B(G);ee=R(Ie,t[2]),he=C(Ie),$=_(Ie,"HR",{class:!0}),O=R(Ie,`
				10`),Ie.forEach(b),te=C(T),H=_(T,"IMG",{alt:!0,src:!0,class:!0}),ge=C(T),Z=_(T,"SPAN",{class:!0});var Be=B(Z);Fe=R(Be,t[3]),at=C(Be),Je=_(Be,"HR",{class:!0}),rt=R(Be,`
				10`),Be.forEach(b),ot=C(T),ie=_(T,"IMG",{alt:!0,src:!0,class:!0}),it=C(T),z=_(T,"SPAN",{class:!0});var pe=B(z);qe=R(pe,t[4]),ct=C(pe),Ye=_(pe,"HR",{class:!0}),ut=C(pe),ze=R(pe,t[1]),pe.forEach(b),T.forEach(b),ft=C(Ke),$e(ce.$$.fragment,Ke),Ke.forEach(b),J.forEach(b),this.h()},h(){m(r,"alt","available checks"),_e(r.src,n=le+"/ap-icon-large.png")||m(r,"src",n),m(r,"class","svelte-1o5v9kj"),m(a,"class","svelte-1o5v9kj"),m(f,"alt","placed bombs"),_e(f.src,S=le+"/bomb-large.png")||m(f,"src",S),m(f,"class","svelte-1o5v9kj"),m(E,"class","svelte-1o5v9kj"),m(h,"class","svelte-1o5v9kj"),m(F,"alt","map height"),_e(F.src,Y=le+"/up-down-arrow-big.png")||m(F,"src",Y),m(F,"class","svelte-1o5v9kj"),m($,"class","svelte-1o5v9kj"),m(G,"class","svelte-1o5v9kj"),m(H,"alt","map width"),_e(H.src,oe=le+"/left-right-arrow-big.png")||m(H,"src",oe),m(H,"class","svelte-1o5v9kj"),m(Je,"class","svelte-1o5v9kj"),m(Z,"class","svelte-1o5v9kj"),m(ie,"alt","flagged spots"),_e(ie.src,It=le+"/heavy-rock-big.png")||m(ie,"src",It),m(ie,"class","svelte-1o5v9kj"),m(Ye,"class","svelte-1o5v9kj"),m(z,"class","svelte-1o5v9kj"),m(s,"class","game-status svelte-1o5v9kj"),m(l,"class","island svelte-1o5v9kj"),m(e,"class","svelte-1o5v9kj")},m(j,J){A(j,e,J),u(e,l),u(l,s),u(s,r),u(s,i),u(s,a),u(a,o),u(s,c),u(s,f),u(s,d),u(s,h),u(h,g),u(h,w),u(h,E),u(h,I),u(s,D),u(s,F),u(s,me),u(s,G),u(G,ee),u(G,he),u(G,$),u(G,O),u(s,te),u(s,H),u(s,ge),u(s,Z),u(Z,Fe),u(Z,at),u(Z,Je),u(Z,rt),u(s,ot),u(s,ie),u(s,it),u(s,z),u(z,qe),u(z,ct),u(z,Ye),u(z,ut),u(z,ze),u(l,ft),Ae(ce,l,null),K=!0},p(j,[J]){(!K||J&1)&&V(o,j[0]),(!K||J&2)&&V(g,j[1]),(!K||J&4)&&V(ee,j[2]),(!K||J&8)&&V(Fe,j[3]),(!K||J&16)&&V(qe,j[4]),(!K||J&2)&&V(ze,j[1])},i(j){K||(P(ce.$$.fragment,j),K=!0)},o(j){U(ce.$$.fragment,j),K=!1},d(j){j&&b(e),je(ce)}}}function Fs(t,e,l){let s,r,n,i,a,o,c,f,S;return L(t,ue,d=>l(5,s=d)),L(t,Ge,d=>l(6,r=d)),L(t,Re,d=>l(7,n=d)),L(t,Me,d=>l(8,i=d)),L(t,Qt,d=>l(0,a=d)),L(t,lt,d=>l(1,o=d)),L(t,fe,d=>l(2,c=d)),L(t,de,d=>l(3,f=d)),L(t,ps,d=>l(4,S=d)),t.$$.update=()=>{t.$$.dirty&480&&tt()},[a,o,c,f,S,s,r,n,i]}class Js extends ye{constructor(e){super(),Ce(this,e,Fs,Ws,we,{})}}function Gt(t,e,l){const s=t.slice();return s[10]=e[l],s}function Ut(t,e,l){const s=t.slice();return s[13]=e[l].text,s[14]=e[l].type,s}function qs(t){let e,l=t[10]+"",s,r,n,i,a;return{c(){e=p("p"),s=M(l),r=y()},l(o){e=_(o,"P",{});var c=B(e);s=R(c,l),r=C(c),c.forEach(b)},m(o,c){A(o,e,c),u(e,s),u(e,r),i||(a=W(e,"introend",t[7]),i=!0)},p(o,c){c&4&&l!==(l=o[10]+"")&&V(s,l)},i(o){n||Ee(()=>{n=wt(e,He,{y:1200,duration:1e3}),n.start()})},o:Q,d(o){o&&b(e),i=!1,a()}}}function Ys(t){let e,l=t[10].text+"",s,r,n,i,a;return{c(){e=p("p"),s=M(l),r=y()},l(o){e=_(o,"P",{});var c=B(e);s=R(c,l),r=C(c),c.forEach(b)},m(o,c){A(o,e,c),u(e,s),u(e,r),i||(a=W(e,"introend",t[6]),i=!0)},p(o,c){c&4&&l!==(l=o[10].text+"")&&V(s,l)},i(o){n||Ee(()=>{n=wt(e,He,{y:1200,duration:1e3}),n.start()})},o:Q,d(o){o&&b(e),i=!1,a()}}}function zs(t){var r;let e,l=ae(((r=t[10])==null?void 0:r.messageParts)&&t[10].messageParts),s=[];for(let n=0;n<l.length;n+=1)s[n]=Ht(Ut(t,l,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=ve()},l(n){for(let i=0;i<s.length;i+=1)s[i].l(n);e=ve()},m(n,i){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(n,i);A(n,e,i)},p(n,i){var a;if(i&4){l=ae(((a=n[10])==null?void 0:a.messageParts)&&n[10].messageParts);let o;for(o=0;o<l.length;o+=1){const c=Ut(n,l,o);s[o]?(s[o].p(c,i),P(s[o],1)):(s[o]=Ht(c),s[o].c(),P(s[o],1),s[o].m(e.parentNode,e))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},i(n){for(let i=0;i<l.length;i+=1)P(s[i])},o:Q,d(n){n&&b(e),nt(s,n)}}}function Ht(t){let e,l=t[13]+"",s,r,n,i,a;return{c(){e=p("p"),s=M(l),r=y()},l(o){e=_(o,"P",{});var c=B(e);s=R(c,l),r=C(c),c.forEach(b)},m(o,c){A(o,e,c),u(e,s),u(e,r),i||(a=W(e,"introend",t[5]),i=!0)},p(o,c){c&4&&l!==(l=o[13]+"")&&V(s,l)},i(o){n||Ee(()=>{n=wt(e,He,{y:1200,duration:1e3}),n.start()})},o:Q,d(o){o&&b(e),i=!1,a()}}}function Wt(t){let e,l,s;function r(a,o){return o&4&&(e=null),o&4&&(l=null),e==null&&(e=!!Object.hasOwn(a[10],"messageParts")),e?zs:(l==null&&(l=!!Object.hasOwn(a[10],"text")),l?Ys:qs)}let n=r(t,-1),i=n(t);return{c(){i.c(),s=ve()},l(a){i.l(a),s=ve()},m(a,o){i.m(a,o),A(a,s,o)},p(a,o){n===(n=r(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),P(i,1),i.m(s.parentNode,s)))},i(a){P(i)},o:Q,d(a){a&&b(s),i.d(a)}}}function Ks(t){let e,l,s=`<img alt="close-console" src="${le+"/cross.png"}"/>`,r,n,i,a,o,c,f,S,d=ae(t[2]),h=[];for(let g=0;g<d.length;g+=1)h[g]=Wt(Gt(t,d,g));return{c(){e=p("section"),l=p("button"),l.innerHTML=s,r=y(),n=p("span");for(let g=0;g<h.length;g+=1)h[g].c();i=y(),a=p("input"),this.h()},l(g){e=_(g,"SECTION",{class:!0});var w=B(e);l=_(w,"BUTTON",{class:!0,"data-svelte-h":!0}),be(l)!=="svelte-4nwcgv"&&(l.innerHTML=s),r=C(w),n=_(w,"SPAN",{class:!0});var E=B(n);for(let I=0;I<h.length;I+=1)h[I].l(E);E.forEach(b),i=C(w),a=_(w,"INPUT",{class:!0,type:!0,placeholder:!0}),w.forEach(b),this.h()},h(){m(l,"class","close-console svelte-l5ir4e"),m(n,"class","console svelte-l5ir4e"),m(a,"class","console-input svelte-l5ir4e"),m(a,"type","text"),m(a,"placeholder","Message or !command to send to server"),m(e,"class","svelte-l5ir4e")},m(g,w){A(g,e,w),u(e,l),u(e,r),u(e,n);for(let E=0;E<h.length;E+=1)h[E]&&h[E].m(n,null);t[8](n),u(e,i),u(e,a),ne(a,t[1]),c=!0,f||(S=[W(l,"click",t[4]),W(a,"input",t[9]),W(a,"keydown",t[3])],f=!0)},p(g,[w]){if(w&4){d=ae(g[2]);let E;for(E=0;E<d.length;E+=1){const I=Gt(g,d,E);h[E]?(h[E].p(I,w),P(h[E],1)):(h[E]=Wt(I),h[E].c(),P(h[E],1),h[E].m(n,null))}for(;E<h.length;E+=1)h[E].d(1);h.length=d.length}w&2&&a.value!==g[1]&&ne(a,g[1])},i(g){if(!c){for(let w=0;w<d.length;w+=1)P(h[w]);g&&Ee(()=>{c&&(o||(o=ke(e,He,{duration:1e3,easing:st,x:-400},!0)),o.run(1))}),c=!0}},o(g){g&&(o||(o=ke(e,He,{duration:1e3,easing:st,x:-400},!1)),o.run(0)),c=!1},d(g){g&&b(e),nt(h,g),t[8](null),g&&o&&o.end(),f=!1,qt(S)}}}function Vs(t,e,l){let s;L(t,q,h=>l(2,s=h));let r=null,n="";function i(h){h.key==="Enter"&&Ns(n)}const a=()=>vt.set(!1),o=()=>void 0,c=()=>void 0,f=()=>void 0;function S(h){rs[h?"unshift":"push"](()=>{r=h,l(0,r)})}function d(){n=this.value,l(1,n)}return[r,n,s,i,a,o,c,f,S,d]}class Qs extends ye{constructor(e){super(),Ce(this,e,Vs,Ks,we,{})}}function Ft(t){let e,l;return e=new Qs({}),{c(){Oe(e.$$.fragment)},l(s){$e(e.$$.fragment,s)},m(s,r){Ae(e,s,r),l=!0},i(s){l||(P(e.$$.fragment,s),l=!0)},o(s){U(e.$$.fragment,s),l=!1},d(s){je(e,s)}}}function Jt(t){let e,l=`<img alt="console" src="${le+"/map.png"}" class="svelte-yfqrgf"/>`,s,r,n,i;return{c(){e=p("button"),e.innerHTML=l,this.h()},l(a){e=_(a,"BUTTON",{class:!0,"data-svelte-h":!0}),be(e)!=="svelte-4fllls"&&(e.innerHTML=l),this.h()},h(){m(e,"class",pt("floating-chat__open-chat--closed")+" svelte-yfqrgf")},m(a,o){A(a,e,o),r=!0,n||(i=W(e,"click",t[1]),n=!0)},i(a){r||(a&&Ee(()=>{r&&(s||(s=ke(e,$t,{duration:1e3,easing:st},!0)),s.run(1))}),r=!0)},o(a){a&&(s||(s=ke(e,$t,{duration:1e3,easing:st},!1)),s.run(0)),r=!1},d(a){a&&b(e),a&&s&&s.end(),n=!1,i()}}}function Xs(t){let e,l,s,r,n,i,a,o,c;l=new As({});let f=t[0]&&Ft();i=new Js({});let S=!t[0]&&Jt(t);return{c(){e=p("main"),Oe(l.$$.fragment),s=y(),r=p("div"),f&&f.c(),n=y(),Oe(i.$$.fragment),o=y(),S&&S.c(),this.h()},l(d){e=_(d,"MAIN",{class:!0});var h=B(e);$e(l.$$.fragment,h),s=C(h),r=_(h,"DIV",{class:!0});var g=B(r);f&&f.l(g),n=C(g),$e(i.$$.fragment,g),g.forEach(b),o=C(h),S&&S.l(h),h.forEach(b),this.h()},h(){m(r,"class","content-area svelte-yfqrgf"),m(e,"class","svelte-yfqrgf")},m(d,h){A(d,e,h),Ae(l,e,null),u(e,s),u(e,r),f&&f.m(r,null),u(r,n),Ae(i,r,null),u(e,o),S&&S.m(e,null),c=!0},p(d,[h]){d[0]?f?h&1&&P(f,1):(f=Ft(),f.c(),P(f,1),f.m(r,n)):f&&(Ze(),U(f,1,1,()=>{f=null}),xe()),d[0]?S&&(Ze(),U(S,1,1,()=>{S=null}),xe()):S?h&1&&P(S,1):(S=Jt(d),S.c(),P(S,1),S.m(e,null))},i(d){c||(P(l.$$.fragment,d),P(f),P(i.$$.fragment,d),d&&Ee(()=>{c&&(a||(a=ke(r,At,{},!0)),a.run(1))}),P(S),c=!0)},o(d){U(l.$$.fragment,d),U(f),U(i.$$.fragment,d),d&&(a||(a=ke(r,At,{},!1)),a.run(0)),U(S),c=!1},d(d){d&&b(e),je(l),f&&f.d(),je(i),d&&a&&a.end(),S&&S.d()}}}function Zs(t,e,l){let s;return L(t,vt,n=>l(0,s=n)),os(()=>{document.addEventListener("contextmenu",n=>n.preventDefault())}),[s,()=>vt.set(!0)]}class ln extends ye{constructor(e){super(),Ce(this,e,Zs,Xs,we,{})}}export{ln as component};
